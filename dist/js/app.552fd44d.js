(function(t){function e(e){for(var s,o,r=e[0],c=e[1],u=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(m.length)m.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0424":function(t,e,a){"use strict";a("a57f")},"093e":function(t,e,a){"use strict";a("229b")},"0954":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAAAmCAYAAABH00DVAAAABHNCSVQICAgIfAhkiAAABaxJREFUeF7tmz3IHkUQx/9TaaeVaYRYiFpqqWkCCWhlCjsFERQULKzUpLVJjK2FgkIQFFJYmErBiI0Bi2A6jZVpRFMlXVKN7LHPsbfPzH7O+Z4++5bv3e7t/ee3s/NxD2H8DQU2oABtYA1jCUMBDBAHBJtQYIC4CTOMRQwQBwObUGCAuAkzjEUMEAcDm1BgApGZPwTwXuGK7gL4C8B1AF8Q0Xcl45j5DoCHontvENEzufHM/D2AU7n7/PXk+irnyj3yqr9BWtunRPSWNgEz/wHguHD9HBFdiP/fqZ+5fSt1vA3gTwA/a5q0gBhqdB/A10T0SspiCdDd+DM5mCtfOl7fpfDlO+aSXtGB+BGAbwA8EN1wi4gekwYx8+sAPhOuiRvTQL8aEIvs26GjcxQX4s3WC+Ju0UnPxsy/AHhagfWrApBrPKL0mPkZHQKKIBLR6cScbxDR54J3+wnAc8KE2v29+rWCqNrXQMeF3a1AdAtWjyJmvid4jN1L3iSipzIetRdEN/1kZAMBw6Ve9SA+r3jFa0R0IhzAzNq96mY20K8XxD37GujoTsO3dxs1B+IVAL8FQroY7ySAJwVw7hLRw8Lu/xLAy5lgS/QEuzGJl74YzfsogNMAHtGOPX8sPqGs5zVhrItvLin3/74TUvH6e6EHM2t6aN7QQj8NxGb7WtrEaZsD8SIRvS/A5eCUYNzzisys3RtOe4WIzmiwai9NRHtZf8LjiBsl8lZSAqHGetFYLe5bHEHM/LcAe8obWuingdhs3wabXBaSVSfhCy5HaAVRE306qgJP5o6hbyPAXLAaZ8+3ieiYBYhuDmYWYzAJXCsQ/XOlWG7eAImkQ/OGVvrVgpi1bw2IXhvNs0+boQlEPzEL4MQgumzyxei+awAeF7yCWLbwzxJjRA2sWpGCjdPsEf06NQNOYivHd8obWulXBWKJfWs1TmzCfwVE6Rg6B+BZCdA4sM/FiFsDMeEVbwD4WCnZqPGxcoy36Pf/BJGZPwHwpuAR51hPqZVNx5Ry7T4RPSgdzw27TyqeZ2M9pcicHVcYKzoY4xJWyhtK3rVVvyoQC+1be0ppJavpJKw+mn3W95JSjpl3txKnzeUMZbeLJaBSED3g7yqJVEm9sutoDjx4qu4XcpvyhpLhWvUrBrHCvkUg+uTR2UTqPs3xcw5ELX+Q/r+oByotqTkOZGYp/tE6C711xGQyZBUjBvNosWKoW64JIHn1Vv0s6oixfXtt4rSYT1ArEF2t7dVdq46ZzwI4H9G6OHoTba4pnY+Ou56XFltKSghg4hETsWL4WLF04sda69cL4sK+qQSywnMtNqIFiLdcvBjCU5odKsfz3hHaUcV3GfoHuV62tUfMZNDucjLuXEG/HhD37GsA4l7HqQfEmwB+lL6myLSkcptmz0gdICYL5fFCLJKVyJNrsaLqDb2RUy3RFv1aQFTt2wii6zL9CuCy9HVRDsS4BeTWMLe1lONNy6hzAqpBfGE76R0hgSr6umcNj5gyVqqwnshYe/QrbfFl7RtopYVLcdvVDfkhdyrlQEzuXAXEkpZUTtSFJyvJmhM93EWRPfXgFTxiUWYZedE19CvOmnOGyYGY615p85uC6FP1uKVX+m7hfYu+cAmI3gNJmWaxVzxqEFfU7+BAVPuJCRrdJ2BxG9DdHpYqijxLr1fcAIhr6XdwIEotvWwNj5mlvvWc3pd6xIRXdJeSn5r5sWblm5YYUakiWOh3OCAm6oLZGE35VGyuO1aCqHmV7O9jjtIjrqzfQYGoZVHqVzVB4Ct1WdzlqeVXA2KPVzxiENfU76BAFBMF7UOGKFOUOgnulqmt1ABik1c8YhDX1O+/AWJLWjvGDAUsFRg/sLdUc8zVrMAAsVm6MdBSgQGipZpjrmYFBojN0o2BlgoMEC3VHHM1KzBAbJZuDLRUYIBoqeaYq1mBfwBQJsFjBgFPjAAAAABJRU5ErkJggg=="},"09a4":function(t,e,a){},"104d":function(t,e,a){"use strict";a("b5cc")},"124f":function(t,e,a){"use strict";a("f936")},1543:function(t,e,a){"use strict";a.r(e),a.d(e,"db",(function(){return n})),a.d(e,"rtDb",(function(){return c})),a.d(e,"auth",(function(){return o})),a.d(e,"currentUser",(function(){return r})),a.d(e,"usersCollection",(function(){return d})),a.d(e,"friendsCollection",(function(){return p})),a.d(e,"gamesCollection",(function(){return g})),a.d(e,"playersCollection",(function(){return v})),a.d(e,"roomsCollection",(function(){return h})),a.d(e,"notificationsCollection",(function(){return b})),a.d(e,"friendChatCollection",(function(){return C})),a.d(e,"storage",(function(){return u})),a.d(e,"userDataCollection",(function(){return m})),a.d(e,"getFireApp",(function(){return l})),a.d(e,"statusCollection",(function(){return f}));var s=a("260b"),i=(a("e71f"),a("66ce"),a("ea7b"),a("588e"),a("8934"),{apiKey:"AIzaSyDW5tcHz8aCO30IFVpLxbggLGYY-Ak6TkQ",authDomain:"partyapp-9961f.firebaseapp.com",databaseURL:"https://partyapp-9961f-default-rtdb.firebaseio.com",projectId:"partyapp-9961f",storageBucket:"partyapp-9961f.appspot.com",messagingSenderId:"19139069320",appId:"1:19139069320:web:70a4805e4847e9d79ca63d",measurementId:Object({NODE_ENV:"production",VUE_APP_API_KEY:"AIzaSyDW5tcHz8aCO30IFVpLxbggLGYY-Ak6TkQ",VUE_APP_APP_ID:"1:19139069320:web:70a4805e4847e9d79ca63d",VUE_APP_AUTH_DOMAIN:"partyapp-9961f.firebaseapp.com",VUE_APP_DATABASE_URL:"https://partyapp-9961f-default-rtdb.firebaseio.com",VUE_APP_MESSAGING_SENDER_ID:"19139069320",VUE_APP_PROJECT_ID:"partyapp-9961f",VUE_APP_STORAGE_BUCKET:"partyapp-9961f.appspot.com",BASE_URL:"/"}).VUE_MEASUREMENT_ID});s["a"].initializeApp(i);var n=s["a"].firestore(),o=s["a"].auth(),r=o.currentUser,c=s["a"].database(),u=s["a"].storage(),l=s["a"].app();n.enablePersistence();var d=n.collection("users"),m=n.collection("userData"),f=n.collection("status"),p=n.collection("friends"),g=n.collection("games"),v=n.collection("players"),h=n.collection("rooms"),b=n.collection("notifications"),C=n.collection("friendChat")},"15a2":function(t,e,a){},1826:function(t,e,a){t.exports=a.p+"img/alpha_window.eabed3b7.svg"},"187d":function(t,e,a){"use strict";a("8661")},1967:function(t,e,a){"use strict";a("4ad8")},"1b5c":function(t,e,a){"use strict";a("6a2d")},"202d":function(t,e,a){t.exports=a.p+"media/matchfound.eab54d96.mp3"},"21eb":function(t,e,a){},"229b":function(t,e,a){},"28b8":function(t,e,a){t.exports=a.p+"img/hangup.bc1f32b4.svg"},"378e":function(t,e,a){"use strict";a("a12c")},"3b80":function(t,e,a){"use strict";a("6b33")},"3ffe":function(t,e,a){t.exports=a.p+"img/copy_username.b6b39288.png"},"4ad8":function(t,e,a){},5244:function(t,e,a){t.exports=a.p+"img/partyapp_logo.f0c2c0c7.svg"},"553b":function(t,e,a){t.exports=a.p+"img/copy.201810b0.svg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("04f2"),a("5abe");var s=a("7bb1"),i=a("2b0e"),n=a("574d"),o=a.n(n),r=a("544d"),c=a("10bd"),u=a("b897"),l=a("372a"),d=a("7e79"),m=a.n(d),f=a("34f3"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},g=[],v=a("5530"),h=a("260b"),b=(a("ea7b"),a("2f62")),C=a("1543"),_={methods:Object(v["a"])(Object(v["a"])({},Object(b["b"])(["bindGameRef","favGameAction","bindUserStatusRef"])),{},{rtdb_presence:function(t){var e=C["rtDb"].ref("/status/".concat(t)),a={state:"offline",last_changed:h["a"].database.ServerValue.TIMESTAMP},s={state:"online",last_changed:h["a"].database.ServerValue.TIMESTAMP};C["rtDb"].ref(".info/connected").on("value",(function(t){!1!==t.val()&&e.onDisconnect().set(a).then((function(){e.set(s)}))}))},statusEmpty:function(t){C["statusCollection"].doc(t).set({activity:"still"},{merge:!0})},rtdb_and_local_fs_presence:function(t){var e=C["rtDb"].ref("/status/".concat(t)),a={state:"offline",last_changed:h["a"].database.ServerValue.TIMESTAMP},s={state:"online",last_changed:h["a"].database.ServerValue.TIMESTAMP},i=C["db"].doc("/status/".concat(t)),n={state:"offline",last_changed:h["a"].firestore.FieldValue.serverTimestamp()},o={state:"online",last_changed:h["a"].firestore.FieldValue.serverTimestamp()};C["rtDb"].ref(".info/connected").on("value",(function(t){!1!==t.val()?e.onDisconnect().set(a).then((function(){e.set(s),i.set(o,{merge:!0})})):i.set(n,{merge:!0})}))}}),mounted:function(){var t=this;h["a"].auth().onAuthStateChanged((function(e){e&&(t.rtdb_presence(e.uid),t.rtdb_and_local_fs_presence(e.uid),t.$store.commit("setUser",e),t.$store.dispatch("bindUserProfileRef"),t.$store.dispatch("bindGameRef"),t.favGameAction(e.uid),t.bindUserStatusRef(),t.statusEmpty(e.uid))}))},computed:Object(v["a"])({},Object(b["c"])(["getGames"]))},y=_,w=(a("5c0b"),a("2877")),A=Object(w["a"])(y,p,g,!1,null,null,null),x=A.exports,S=a("9483");Object(S["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var E=a("8c4f"),P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("section",{ref:"asyncImage",staticClass:"sidebar"},[s("div",{staticClass:"sidebar-content"},[s("header",[s("router-link",{attrs:{to:"/"}},[s("div",[s("img",{staticClass:"title",attrs:{src:a("0954"),alt:"party app title",draggable:"false"}})])])],1),t._m(0)])]),s("section",{staticClass:"content"},[t._m(1),s("nav",{staticClass:"auth-nav"},[s("p",{staticClass:"auth-link"},[t._v(" Need an account?"),s("router-link",{attrs:{to:"Signup"}},[t._v(" Signup")])],1)]),s("div",{staticClass:"content-main"},[s("div",{staticClass:"auth-content"},[s("h1",{staticClass:"subtitle-color roboto-m"},[t._v("Sign in to PartyApp")]),s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.emailauth)}}},[s("div",{staticClass:"auth-form"},[s("div",{staticClass:"container"},[s("label",{attrs:{for:"uname"}},[s("b",{staticClass:"subtitle-color"},[t._v("Email")])]),s("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[s("vs-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)]}}],null,!0)}),s("label",{attrs:{for:"psw"}},[s("b",{staticClass:"subtitle-color"},[t._v("Password")]),s("p",{staticClass:"auth-forgot"},[s("router-link",{attrs:{to:"passreset"}},[t._v("Forgot password")])],1)]),s("ValidationProvider",{attrs:{name:"password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[s("vs-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]}}],null,!0)}),s("div",{staticClass:"auth-buttons"},[s("button",{staticClass:"button email-auth",attrs:{type:"submit"}},[t._v(" Login ")]),s("button",{staticClass:"button google-auth",attrs:{type:"button"},on:{click:t.googleauth}},[s("span",{staticClass:"icon"},[s("i",{staticClass:"bx bxl-google",staticStyle:{color:"#ffffff"}})])])]),s("p",{staticClass:"auth-link-phone"},[s("router-link",{attrs:{to:"Signup"}},[t._v("Need an account?")])],1)],1)])])]}}])})],1)])])])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-art"},[a("h2",{staticClass:"side-art-subtitle"},[t._v("Never play alone")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"level m-nav"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"})])])}],k=(a("d81d"),a("159b"),a("5377"),a("4c93"));Object(s["c"])("email",k["a"]),Object(s["c"])("required",Object(v["a"])(Object(v["a"])({},k["c"]),{},{message:"This field is required"}));var I={metaInfo:{title:"PartyApp",titleTemplate:"%s | Signin",htmlAttrs:{lang:"en",amp:!0}},data:function(){return{email:"",password:""}},components:{ValidationProvider:s["b"]},methods:Object(v["a"])(Object(v["a"])({},Object(b["b"])(["signInAction","googleAuthAction"])),{},{loadImage:function(t){var e=t.map((function(t){return t.url}));e.forEach((function(t){var e=new Image;e.src=t}))},emailauth:function(){var t=this;this.signInAction({email:this.email,password:this.password}).then((function(){t.init()})).catch((function(e){t.openNotification("ERROR",e.message,"danger")}))},googleauth:function(){var t=this;this.googleAuthAction().then((function(){t.init()}))},init:function(){var t=this,e=this.$vs.loading({type:"corners",background:"#195bff",color:"#fff",opacity:"1",text:"Checking you out, just a moment"});this.loadImage(this.getGames),setTimeout((function(){t.getProfile.flags?t.$router.push("/crew/@me"):t.$router.push("/alpha"),e.close()}),1e3)},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})}}),mounted:function(){this.getEmail&&(this.email=this.getEmail)},computed:Object(v["a"])({},Object(b["c"])(["getProfile","getEmail","getGames"]))},j=I,U=(a("b047"),Object(w["a"])(j,P,O,!1,null,"6f72d451",null)),R=U.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("section",{ref:"asyncImage",staticClass:"sidebar"},[s("div",{staticClass:"sidebar-content"},[s("header",[s("router-link",{attrs:{to:"/"}},[s("div",[s("img",{staticClass:"title",attrs:{src:a("0954"),alt:"party app title",draggable:"false"}})])])],1),t._m(0)])]),s("section",{staticClass:"content"},[t._m(1),s("nav",{staticClass:"auth-nav"},[s("p",{staticClass:"auth-link"},[t._v(" Already a member? "),s("router-link",{attrs:{to:"Signin"}},[t._v("login")])],1)]),s("div",{staticClass:"content-main"},[s("div",{staticClass:"auth-content"},[s("h1",{staticClass:"subtitle-color roboto-m"},[t._v("Sign up to PartyApp")]),s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.emailauth)}}},[s("div",{staticClass:"auth-form"},[s("div",{staticClass:"container"},[s("label",{attrs:{for:"username"}},[s("b",[t._v("Username")])]),s("ValidationProvider",{attrs:{name:"username",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[s("vs-input",{attrs:{placeholder:"Username",maxlength:"15"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)]}}],null,!0)}),s("label",{attrs:{for:"email"}},[s("b",[t._v("Email")])]),s("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[s("vs-input",{attrs:{type:"email",placeholder:"Email",maxlength:"125",autocomplete:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)]}}],null,!0)}),s("label",{attrs:{for:"psw"}},[s("b",[t._v("Password")])]),s("ValidationProvider",{attrs:{name:"password",rules:"required|min:8"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[s("vs-input",{attrs:{type:"password",placeholder:"Password",maxlength:"30"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]}}],null,!0)}),s("div",{staticClass:"auth-buttons"},[s("button",{staticClass:"button email-auth"},[t._v("Continue")]),s("button",{staticClass:"button google-auth",attrs:{type:"button"},on:{click:t.googleauth}},[s("span",{staticClass:"icon"},[s("i",{staticClass:"bx bxl-google",staticStyle:{color:"#ffffff"}})])])]),s("p",{staticClass:"auth-link-phone"},[s("router-link",{attrs:{to:"Signin"}},[t._v(" Already have an account?")])],1),s("p",{staticClass:"auth-terms"},[t._v(" By registering, you agree to PartyApp's "),s("router-link",{attrs:{to:"Signup"}},[t._v("Terms of Service")]),t._v(" and "),s("router-link",{attrs:{to:"Signup"}},[t._v("Privacy Policy")])],1)],1)])])]}}])})],1)])])])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-art"},[a("h2",{staticClass:"side-art-subtitle"},[t._v("Need a player Two")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"level m-nav"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"})])])}];Object(s["c"])("email",k["a"]),Object(s["c"])("min",Object(v["a"])(Object(v["a"])({},k["b"]),{},{message:"min of 8 length"})),Object(s["c"])("required",Object(v["a"])(Object(v["a"])({},k["c"]),{},{message:"This field is required"}));var N,$={metaInfo:{title:"PartyApp",titleTemplate:"%s | Signup",htmlAttrs:{lang:"en",amp:!0}},components:{ValidationProvider:s["b"]},data:function(){return{username:"",email:"",password:""}},methods:Object(v["a"])(Object(v["a"])({},Object(b["b"])(["signUpAction","googleAuthAction"])),{},{loadImage:function(t){var e=t.map((function(t){return t.url}));e.forEach((function(t){var e=new Image;e.src=t}))},emailauth:function(){var t=this;this.signUpAction({email:this.email,password:this.password,username:this.username}).then((function(){t.init()})).catch((function(e){t.openNotification("ERROR",e.message,"danger")}))},googleauth:function(){var t=this;this.googleAuthAction().then((function(){t.init()}))},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},init:function(){var t=this,e=this.$vs.loading({type:"corners",background:"#195bff",color:"#fff",opacity:"1",text:"Checking you out, just a moment"});this.loadImage(this.getGames),setTimeout((function(){t.getProfile.flags?t.$router.push("/crew/@me"):t.$router.push("/alpha"),e.close()}),1e3)}}),computed:Object(v["a"])({},Object(b["c"])(["getEmail","getProfile","getGames"])),mounted:function(){this.getEmail&&(this.email=this.getEmail)}},L=$,T=(a("ea1e"),Object(w["a"])(L,G,D,!1,null,"f38c4900",null)),F=T.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"party-main"},[s("div",{staticClass:"party-container"},[s("div",{staticClass:"party-content"},[s("div",{staticClass:"audio-layout"},[s("audioLayout",{attrs:{muted:!0,user:t.getProfile}})],1),t._l(t.peers,(function(t){return s("div",{key:t.userId,staticClass:"audio-layout fadeInAnim"},[s("audioLayout",{attrs:{muted:!1,audioStream:t.peerStream,user:t.user}})],1)}))],2)]),s("div",{staticClass:"party-options-container"},[s("div",{staticClass:"party-options-content"},[s("vs-avatar",{staticClass:"clickable",attrs:{size:"60",circle:"",color:"#2B2E43"},on:{click:t.mute}},[t.muted?s("i",{staticClass:"bx bxs-microphone"}):s("i",{staticClass:"bx bxs-microphone-off"})]),s("button",{staticClass:"hangup-btn",on:{click:t.hangUp}},[s("img",{attrs:{src:a("28b8"),alt:"",draggable:"false"}})])],1)])])},B=[],q=a("1da1"),z=(a("b64b"),a("7db0"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"audio-container"},[a("audio",{attrs:{autoplay:""},domProps:{srcObject:t.audioStream}}),t.muted?a("div",{staticClass:"audio-muted"},[a("vs-avatar",{staticClass:"clickable",attrs:{circle:"",color:"#2B2E43"},on:{click:function(e){t.curGame=null}}},[a("i",{staticClass:"bx bx-volume-mute"})])],1):t._e(),t.user?a("div",{staticClass:"audio-content"},[a("vs-avatar",{staticClass:"user-avatar",attrs:{size:"96",circle:"",color:"#2B2E43"},scopedSlots:t._u([!t.user.avatar&&t.user.username?{key:"text",fn:function(){return[t._v(" "+t._s(t.user.username.charAt(0))+" ")]},proxy:!0}:null],null,!0)},[t.user.avatar?a("img",{attrs:{src:""+t.user.avatar,alt:"profile image",draggable:"false"}}):t._e()])],1):t._e(),a("userInfo",{attrs:{user:t.user}})],1)}),M=[],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"userInfo-container"},[t.user?s("h2",{staticClass:"username roboto-m username-nowrap"},[t._v(" "+t._s(t.user.username)+" ")]):t._e(),s("button",{staticClass:"copyUsername-btn",on:{click:t.copyUsername}},[s("img",{attrs:{src:a("553b"),alt:"copy button",draggable:"false"}})])])},Y=[],W={name:"userInfo",props:{user:Object},methods:{copyUsername:function(){var t=this.user.uname.substring(0,990);navigator.clipboard.writeText(t),this.openNotification("Success","Username was copied","success")},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})}}},J=W,Q=(a("0424"),Object(w["a"])(J,H,Y,!1,null,"e375aca0",null)),Z=Q.exports,X={name:"audioLayout",data:function(){return{usernameChar:""}},components:{userInfo:Z},props:{muted:Boolean,audioStream:MediaStream,isMe:Boolean,user:Object}},K=X,tt=(a("8a79"),Object(w["a"])(K,z,M,!1,null,"595fb654",null)),et=tt.exports,at=a("e2f4"),st={iceServers:[{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:18.118.49.54?transport=tcp",username:"partyapp",credential:"connect"}]},it={appId:"partyapp-9961f-default-rtdb",rtcConfig:st,rootPath:"calls"},nt={data:function(){return{roomId:"",peers:{},localStream:void 0,muted:!0,room:null}},components:{audioLayout:et},methods:Object(v["a"])(Object(v["a"])({},Object(b["b"])(["setRoomUsersAction","bindRoomDataRef","setRoomIdAction"])),{},{getUserMedia:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 3:t.localStream=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.openNotification("Error","Mic permission denied. Refresh to try again.","danger");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},roomEvents:function(){var t=this;this.room.onPeerJoin((function(e){t.room.addStream(t.localStream),t.initPeer(e)})),this.room.onPeerStream((function(e,a){t.peers[a]&&(t.peers[a].peerStream=e)})),this.room.onPeerLeave((function(e){t.$delete(t.peers,e)}))},mute:function(){this.muted=!this.muted,this.localStream.getAudioTracks()[0].enabled=this.muted},statusEmpty:function(){this.updateStatus("still")},updateStatus:function(t){C["statusCollection"].doc(this.getUser.uid).set({activity:t},{merge:!0})},hangUp:function(){var t=this;if(void 0!==this.localStream){this.room.leave();var e=this.localStream.getTracks();e.forEach((function(t){t.stop()})),Object.keys(this.peers).forEach((function(e){t.peers[e].peerStream&&t.peers[e].peerStream.getTracks().forEach((function(t){return t.stop()})),t.peers[e].pc&&t.peers[e].pc.close()})),this.peers={},this.statusEmpty()}"/crew/@me"!==this.$route.path&&this.$router.push("/crew/@me")},leaveRoom:function(){this.room.leave()},initPeer:function(t){var e=this.getRoomUsers.find((function(e){return e.chatId===t}));this.$set(this.peers,t,{userId:e.userId,peerStream:void 0,user:e})},initP:function(t){this.$set(this.peers,t,{userId:t,peerStream:void 0})},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},init:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.roomId=t.$route.params.roomId,C["roomsCollection"].doc(t.roomId).get().then(function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.exists){e.next=11;break}return e.next=3,t.sendChatId();case 3:return e.next=5,t.setRoomUsersAction({roomId:t.roomId,userId:t.getUser.uid,gameId:t.getUserStatus.gameId});case 5:return e.next=7,t.getUserMedia();case 7:t.room=Object(at["a"])(it,t.roomId),t.roomEvents(),e.next=13;break;case 11:"/crew/@me"!==t.$route.path&&t.$router.push("/crew/@me"),t.openNotification("Error","Party doesn't Exist".concat(t.roomId),"danger");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},sendChatId:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C["roomsCollection"].doc(t.roomId).collection("activePlayers").doc(t.getUser.uid).set({uid:t.getUser.uid,chatId:at["b"]});case 2:case"end":return e.stop()}}),e)})))()}}),computed:Object(v["a"])({},Object(b["c"])(["getUser","getRoomUsers","getProfile","getRoomUsersListener","getUserStatus"])),mounted:function(){this.init()},beforeDestroy:function(){var t=this;if(void 0!==this.localStream){var e=this.localStream.getTracks();e.forEach((function(t){t.stop()})),Object.keys(this.peers).forEach((function(e){t.peers[e].peerStream&&t.peers[e].peerStream.getTracks().forEach((function(t){return t.stop()})),t.peers[e].pc&&t.peers[e].pc.close()})),this.peers={},this.room.leave()}this.getRoomUsersListener()},created:function(){}},ot=nt,rt=(a("104d"),Object(w["a"])(ot,V,B,!1,null,null,null)),ct=rt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"main",staticClass:"main"},[a("div",{ref:"part1",staticClass:"part1"},[a("div",{staticClass:"section-nav"},[a("div",{staticClass:"container-nav"},[t._m(0),a("nav",{staticClass:"nav-right"},[a("router-link",{staticClass:"roboto-m auth-btn signin-btn clickable",attrs:{to:"/signin"},on:{click:t.openSignin}},[t._v(" Sign in ")]),a("div",{staticClass:"roboto-m auth-btn signup-btn clickable",on:{click:t.openSignin}},[t._v(" Sign in ")]),a("button",{staticClass:"request-btn roboto-m nav-request-btn",on:{click:t.focusRequest}},[t._v(" Request access ")])],1)])]),t._m(1)]),t._m(2),a("div",{staticClass:"part2"},[a("div",{ref:"sbot",staticClass:"section-bot"},[a("div",{staticClass:"container-bot"},[a("h2",{staticClass:"subtitle-index color-red roboto-m"},[t._v("EXPECT BUGS")]),a("h1",{staticClass:"title-index color-black roboto-m"},[t._v("Less is more")]),t._m(3),a("div",{staticClass:"request-container"},[a("div",{staticClass:"request-input-container",attrs:{id:"emailContainer"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",staticClass:"request-input roboto-regular",attrs:{type:"text",placeholder:"Enter your email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("button",{staticClass:"roboto-medium request-btn-desktop",on:{click:t.openSignup}},[t._v(" Submit ")])])]),a("div",{staticClass:"request-btn-container"},[a("button",{staticClass:"request-btn-mobile roboto-medium",on:{click:t.openSignup}},[t._v(" Request access ")])])])]),t._m(4)])])},lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"nav-left"},[s("a",[s("img",{attrs:{src:a("5244"),alt:"partyapp logo",draggable:"false"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"part1-container"},[s("div",{staticClass:"section-top"},[s("div",{staticClass:"container-top"},[s("h2",{staticClass:"subtitle-index color-green roboto-m"},[t._v("PARTYAPP ALPHA")]),s("h1",{staticClass:"title-index color-white roboto-m"},[t._v(" Every match should have voice comms. ")])])]),s("div",{staticClass:"section-mid"},[s("div",{staticClass:"container-mid roboto-r"},[s("div",{staticClass:"title-mid-container"},[s("div",{staticClass:"title-mid"},[t._v("Easy as 1-2-3ðŸŽµ")])]),s("div",{staticClass:"card-container"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-top"},[s("h1",{staticClass:"card-top-title roboto-mono-m"},[t._v("01")])]),s("div",{staticClass:"card-mid"},[s("h2",{staticClass:"card-mid-title roboto-m"},[t._v("Choose your game")])]),s("div",{staticClass:"card-bot"},[s("img",{staticClass:"card-bot-img",attrs:{src:a("ab4b"),alt:"choose game screen snippet"}})])]),s("div",{staticClass:"card"},[s("div",{staticClass:"card-top"},[s("h1",{staticClass:"card-top-title roboto-mono-m"},[t._v("02")])]),s("div",{staticClass:"card-mid"},[s("h2",{staticClass:"card-mid-title roboto-m"},[t._v("Say hi")])]),s("div",{staticClass:"card-bot"},[s("img",{staticClass:"card-bot-img",attrs:{src:a("62ca"),alt:"mic unmute button snippet"}})])]),s("div",{staticClass:"card"},[s("div",{staticClass:"card-top"},[s("h1",{staticClass:"card-top-title roboto-mono-m"},[t._v("03")])]),s("div",{staticClass:"card-mid"},[s("h2",{staticClass:"card-mid-title roboto-m"},[t._v("Copy a username")])]),s("div",{staticClass:"card-bot"},[s("img",{staticClass:"card-bot-img",attrs:{src:a("3ffe"),alt:"copy ingame username button snippet"}})])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scroll-indicator-container"},[a("div",{staticClass:"indicator-container"},[a("i",{staticClass:"bx bxs-circle bx-fade-down indicator"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"subtitle-small-index roboto-m"},[t._v(" Partyapp is made for one thing and one thing only, to find you a party for the games you "),a("span",{},[t._v("love")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"section-footer"},[a("div",{staticClass:"container-footer roboto-mono-m"},[a("div",{staticClass:"footer-rights"},[a("p",[t._v("Â© 2021 PartyApp.")])]),a("div",{staticClass:"footer-legal"},[a("div",{staticClass:"legal-Terms"},[a("p",[t._v("Terms & Conditions")])]),a("div",{staticClass:"legal-Privacy"},[a("p",[t._v("Privacy Policy")])])])])])}],dt={data:function(){return{email:"",inputConChanged:!0,isDark:!1}},methods:{openSignup:function(){var t=/^[\-0-9a-zA-Z\.\+_]+@[\-0-9a-zA-Z\.\+_]+\.[a-zA-Z]{2,}$/;this.email.length>0&&t.test(this.email)?(this.$store.commit("setEmail",this.email),this.$router.push("/signup")):this.openNotification("Error","Hey, is that a email?","danger")},openSignin:function(){this.$router.push("/signin")},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},focusRequest:function(){var t=/^[\-0-9a-zA-Z\.\+_]+@[\-0-9a-zA-Z\.\+_]+\.[a-zA-Z]{2,}$/;if(this.email.length>0&&t.test(this.email))this.$store.commit("setEmail",this.email),this.$router.push("/signup");else{this.$refs.email.focus();var e=document.getElementById("emailContainer");e.classList.add("border-Anime"),setTimeout((function(){e.classList.remove("border-Anime")}),2e3)}}},mounted:function(){},watch:{}},mt=dt,ft=(a("c5c0"),Object(w["a"])(mt,ut,lt,!1,null,"64754346",null)),pt=ft.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"main-content"},[s("div",{staticClass:"alpha-container"},[s("div",{staticClass:"container has-text-centered"},[s("img",{attrs:{src:a("1826"),alt:"",draggable:"false"}}),s("h1",{staticClass:"title roboto-r partyapp-title",staticStyle:{color:"black"}},[t._v(" On the wait list ")]),s("h2",{staticClass:"partyapp-subtitle subtitle roboto-r"},[t._v(" Your on the wait list, you will be emailed when the alpha period begins. ")]),s("div",{staticClass:"has-text-centered button-container"},[s("vs-button",{attrs:{border:"",size:"large"},on:{click:t.signOut}},[t._v(" Logout ")])],1)])])])])},vt=[],ht={data:function(){return{flag:0}},methods:{signOut:function(){var t=this;h["a"].auth().signOut().then((function(){t.$router.push({name:"Signin"})}))}}},bt=ht,Ct=(a("187d"),Object(w["a"])(bt,gt,vt,!1,null,"2a7bd582",null)),_t=Ct.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",on:{contextmenu:function(t){t.preventDefault()}}},[a("topNav"),a("div",{staticClass:"main-container"},[a("router-view")],1)],1)},wt=[],At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section-nav"},[s("div",{staticClass:"container-nav"},[s("nav",{staticClass:"nav-left"},[s("img",{staticClass:"logo-attio clickable",attrs:{src:a("5244"),alt:"partyapp logo",draggable:"false"},on:{click:t.goHome}})]),s("nav",{staticClass:"nav-right"},[s("user-tab")],1)])])},xt=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"user-avatar"},[a("vs-tooltip",{staticClass:"username-text",attrs:{bottom:"",shadow:"",interactivit:"","not-hover":""},scopedSlots:t._u([{key:"tooltip",fn:function(){return[a("div",{staticClass:"content-tooltip"},[a("div",{staticClass:"prof-top"},[a("div",{staticClass:"prof-tob-content"},[a("div",{staticClass:"avatar-container"},[a("vs-avatar",{attrs:{size:"60",color:"#2B2E43",circle:""},scopedSlots:t._u([!t.getProfile.avatar&&t.getProfile.username?{key:"text",fn:function(){return[t._v(" "+t._s(t.getProfile.username.charAt(0))+" ")]},proxy:!0}:null],null,!0)},[t.getProfile.avatar?a("img",{attrs:{src:""+t.getProfile.avatar,alt:"profile image",draggable:"false"}}):t._e()])],1),a("h5",{staticClass:"username-text"},[t._v(" "+t._s(t.getProfile.username+"#"+t.getProfile.tag)+" ")]),a("vs-button",{attrs:{main:"",flat:""},on:{click:t.openSettings}},[t._v(" Manage your account ")])],1)]),a("div",{staticClass:"prof-mid"}),a("div",{staticClass:"prof-bot"}),a("footer",{staticClass:"clickable",staticStyle:{color:"#626891"}},[a("p",[t._v("Privacy policy | v-0.6.9")])])])]},proxy:!0}]),model:{value:t.activeProfile,callback:function(e){t.activeProfile=e},expression:"activeProfile"}},[a("vs-avatar",{staticClass:"clickable btn-drop",attrs:{size:"38",color:"#2B2E43",circle:"","badge-color":"success","badge-position":"bottom-left"},on:{click:function(e){t.activeProfile=!t.activeProfile}},scopedSlots:t._u([!t.getProfile.avatar&&t.getProfile.username?{key:"text",fn:function(){return[t._v(" "+t._s(t.getProfile.username.charAt(0))+" ")]},proxy:!0}:null],null,!0)},[t.getProfile.avatar?a("img",{attrs:{src:""+t.getProfile.avatar,alt:"profile image",draggable:"false"}}):t._e()])],1)],1),a("vs-dialog",{staticClass:"full-screen-dialog",attrs:{square:"","full-screen":"","not-close":""},model:{value:t.settingScreen,callback:function(e){t.settingScreen=e},expression:"settingScreen"}},[a("div",{staticClass:"settings-view"},[a("div",{staticClass:"setting-close-section"},[a("div",{staticClass:"setting-close-container"},[a("vs-avatar",{staticClass:"btn-drop",attrs:{circle:"",color:"#2B2E43"},on:{click:function(e){t.settingScreen=!t.settingScreen}}},[a("i",{staticClass:"bx bx-x",staticStyle:{color:"#ffffff"}})])],1)]),a("settings")],1)])],1)},Et=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"setting-left"},[a("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll.x",modifiers:{x:!0}}],ref:"settingsScroll",staticClass:"setting-menu"},[a("button",{staticClass:"setting-menu-item roboto-m clickable btn-drop",class:t.classObject(0),on:{click:function(e){t.settingPosition=0}}},[t._v(" Username & Avatar ")]),a("button",{staticClass:"setting-menu-item roboto-m clickable btn-drop",class:t.classObject(1),on:{click:function(e){t.settingPosition=1}}},[t._v(" Games ")]),a("button",{staticClass:"setting-menu-item roboto-m clickable btn-drop",class:t.classObject(2),on:{click:function(e){t.settingPosition=2}}},[t._v(" Account Information ")]),a("button",{staticClass:"setting-menu-item roboto-m clickable btn-drop",class:t.classObject(3),on:{click:function(e){t.settingPosition=3}}},[t._v(" Password ")]),a("button",{staticClass:"setting-menu-item roboto-m clickable"},[t._v("Help")]),a("button",{staticClass:"setting-menu-item-logout roboto-m clickable btn-drop",on:{click:t.signOut}},[t._v(" Log Out ")])])]),a("div",{staticClass:"setting-right"},[a("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll"}],staticClass:"left-content"},[a("settingsName",{directives:[{name:"show",rawName:"v-show",value:0===t.settingPosition,expression:"settingPosition === 0"}],staticClass:"setting-item"}),a("settingsGame",{directives:[{name:"show",rawName:"v-show",value:1===t.settingPosition,expression:"settingPosition === 1"}],staticClass:"setting-item"}),a("settingsAccount",{directives:[{name:"show",rawName:"v-show",value:2===t.settingPosition,expression:"settingPosition === 2"}],staticClass:"setting-item"}),a("settingsPassword",{directives:[{name:"show",rawName:"v-show",value:3===t.settingPosition,expression:"settingPosition === 3"}],staticClass:"setting-item"})],1)])])},Ot=[],kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-name-main"},[a("div",{staticClass:"content-main"},[a("div",{staticClass:"content-container"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.uname,expression:"uname"}],staticClass:"content-input",attrs:{type:"text",placeholder:t.getProfile.username},domProps:{value:t.uname},on:{input:[function(e){e.target.composing||(t.uname=e.target.value)},t.isChanged]}})]),a("div",{staticClass:"content-container"},[t._m(1),a("div",{staticClass:"content-avatar-bg"},[a("vs-avatar",{attrs:{for:"upload",size:"132",circle:"",color:"#224168"}},[t.getProfile.avatar?t._e():a("i",{staticClass:"bx bx-plus",staticStyle:{color:"#0291f4"}}),t.getProfile.avatar?a("img",{attrs:{src:""+t.getProfile.avatar,alt:"profile image",draggable:"false"}}):t._e(),a("input",{ref:"FileInput",staticClass:"upload-input clickable",attrs:{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:t.setImage}})])],1)]),t.isActive?a("div",{staticClass:"content-container"},[a("button",{staticClass:"content-save roboto-m",on:{click:t.updateInfo}},[t._v(" save ")])]):t._e()]),a("vs-dialog",{ref:"editImage",attrs:{"not-close":""},model:{value:t.isEdit,callback:function(e){t.isEdit=e},expression:"isEdit"}},[a("div",{staticClass:"editImage-main"},[a("div",{staticClass:"editImage-top"},[t.isLoading?t._e():a("div",{staticClass:"close-top-right"},[a("vs-avatar",{attrs:{circle:"",color:"#2B2E43"},on:{click:function(e){t.isEdit=!t.isEdit}}},[a("i",{staticClass:"bx bx-x",staticStyle:{color:"#ffffff"}})])],1)]),a("div",{staticClass:"editImage-content"},[a("div",[a("div",{staticClass:"editImage-cropper"},[a("vue-cropper",{ref:"cropper",attrs:{fixedNumber:t.option.fixedNumber,img:t.imgSrc,info:t.option.info,autoCrop:t.option.autoCrop,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixedBox:t.option.fixedBox,fixed:t.option.fixed}})],1),a("button",{ref:"button",staticClass:"editImage-upload roboto-m",on:{click:t.uploadImage}},[t._v(" upload ")])])])])])],1)},It=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-m"},[t._v("Username")]),a("h3",{staticClass:"content-subtitle roboto-m"},[t._v(" Your username is always public ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-m"},[t._v("Avatar")]),a("h3",{staticClass:"content-subtitle roboto-m"},[t._v(" Try to be appropriateðŸ¤˜ ")])])}],jt={name:"settings-name-page",components:{VueCropper:d["VueCropper"]},data:function(){return{uname:"",isActive:!1,isEdit:!1,imgSrc:"",isLoading:!1,option:{autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedNumber:[1,1],fixed:!0,info:!1}}},methods:{savesettings:function(){},isChanged:function(){this.uname.length>1?this.isActive=!0:this.isActive=!1},setImage:function(t){var e=this;this.isEdit=!0;var a=t.target.files[0];if(!/\.(jpg|jpeg|png|bmp|JPG|PNG)$/.test(t.target.value))return this.openNotification("Failed","jpeg,jpg,png,bmp","danger"),this.isEdit=!this.isEdit,!1;if("function"===typeof FileReader){var s=new FileReader;s.onload=function(t){e.imgSrc=t.target.result,e.$refs.cropper.refresh()},s.readAsDataURL(a)}else this.openNotification("Failed","Sorry, FileReader API not supported","danger");t.target.value=""},uploadImage:function(){var t=this;this.$refs.cropper.getCropBlob((function(e){var a=C["storage"].ref(),s="users/avatars/".concat(t.getUser.uid),i={contentType:e.type,cacheControl:"public,max-age=300"};t.openLoadingCropper();var n=a.child(s).put(e,i);n.then((function(t){return t.ref.getDownloadURL()})).then((function(e){C["usersCollection"].doc(t.getUser.uid).update({avatar:e}).then({}),t.openNotification("Success","Avater was uploaded","success"),t.isEdit=!t.isEdit})).catch(console.error)}))},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},updateInfo:function(){var t=this;C["usersCollection"].doc(this.getUser.uid).update({username:this.uname}).then((function(){t.openNotification("Success","username was updated","success"),t.uname="",t.isActive=!1}))},openLoadingCropper:function(){var t=this,e=this.$vs.loading({target:this.$refs.editImage,scale:"0.6",background:"primary",opacity:1,color:"#fff"});this.isLoading=!0,setTimeout((function(){e.close(),t.isLoading=!1}),3e3)}},computed:Object(v["a"])({},Object(b["c"])(["getProfile","getUser"])),mounted:function(){}},Ut=jt,Rt=(a("1967"),Object(w["a"])(Ut,kt,It,!1,null,"1dadce7c",null)),Gt=Rt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-account-main"},[a("div",{staticClass:"content-main"},[a("div",{staticClass:"content-container"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"content-input",attrs:{placeholder:"Private",type:"text",onfocus:"(this.type='date')",id:"date",min:t.minDate,max:t.maxDate},domProps:{value:t.date},on:{input:[function(e){e.target.composing||(t.date=e.target.value)},function(e){return t.isChanged("date")}]}})]),t.isGoogle?a("div",{staticClass:"content-google"},[t._m(2)]):a("div",{staticClass:"content-container"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"content-input",attrs:{type:"email",placeholder:"private"},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value)},function(e){return t.isChanged("email")}]}})]),t.isActive?a("div",{staticClass:"content-container"},[a("button",{staticClass:"content-save roboto-m",on:{click:t.updateInfo}},[t._v("save")])]):t._e()])])},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-m"},[t._v("Birth Date")]),a("h3",{staticClass:"content-subtitle roboto-m"},[t._v(" Your birthdate is always private ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-m"},[t._v("Email")]),a("h3",{staticClass:"content-subtitle roboto-m"},[t._v(" Don't worry we won't go crazy ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con-google-main"},[a("div",[t._v(" ðŸ”’ email locked, signed in with google, account provider linking coming soon... ")])])}],$t=(a("a15b"),{name:"settings-account-page",data:function(){return{email:"",sex:"",date:"",minDate:"",maxDate:"",isActive:!1,isGoogle:"google.com"===C["auth"].currentUser.providerData[0].providerId}},methods:{savesettings:function(){},init:function(){},isChanged:function(t){if("email"===t){var e=/^[\-0-9a-zA-Z\.\+_]+@[\-0-9a-zA-Z\.\+_]+\.[a-zA-Z]{2,}$/;this.email.length>0&&e.test(this.email)?this.isActive=!0:this.isActive=!1}else this.date?this.isActive=!0:this.isActive=!1},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},updateInfo:function(){var t=this;if(this.date){var e=h["a"].firestore.Timestamp.fromDate(new Date(this.date));C["userDataCollection"].doc(this.getUser.uid).update({dob:e}).then((function(){t.openNotification("Success","Date of birth was updated","success")})).catch((function(t){console.log(t)}))}else C["auth"].currentUser.updateEmail(this.email).then((function(){C["userDataCollection"].doc(t.getUser.uid).update({email:t.email}).then((function(){t.openNotification("Success","email was updated","success"),t.email=""}))})).catch((function(e){t.openNotification("failed",e,"danger")}))},formatDate:function(t){var e=new Date(t),a="".concat(e.getMonth()+1),s="".concat(e.getDate()),i=e.getFullYear();return a.length<2&&(a="0".concat(a)),s.length<2&&(s="0".concat(s)),[i,a,s].join("-")}},mounted:function(){this.init();var t=new Date;this.minDate=this.formatDate(new Date(t.getFullYear()-80,t.getMonth(),t.getDate())),this.maxDate=this.formatDate(new Date(t.getFullYear()-13,t.getMonth(),t.getDate()))},computed:Object(v["a"])({},Object(b["c"])(["getUser"]))}),Lt=$t,Tt=(a("72fc"),Object(w["a"])(Lt,Dt,Nt,!1,null,"35b52a26",null)),Ft=Tt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-password-main"},[t.isGoogle?a("div",{staticClass:"content-main"},[t._m(3)]):a("div",{staticClass:"content-main"},[a("div",{staticClass:"content-container"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],staticClass:"content-input",attrs:{type:"password",placeholder:"*******************"},domProps:{value:t.password1},on:{input:[function(e){e.target.composing||(t.password1=e.target.value)},t.isChanged]}})]),a("div",{staticClass:"content-container"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"content-input",attrs:{type:"password",placeholder:"*******************"},domProps:{value:t.password2},on:{input:[function(e){e.target.composing||(t.password2=e.target.value)},t.isChanged]}})]),a("div",{staticClass:"content-container"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password3,expression:"password3"}],staticClass:"content-input",attrs:{type:"password",placeholder:"*******************"},domProps:{value:t.password3},on:{input:[function(e){e.target.composing||(t.password3=e.target.value)},t.isChanged]}})]),t.isActive?a("div",{staticClass:"content-container"},[a("button",{staticClass:"content-save roboto-m",on:{click:t.updateInfo}},[t._v(" save ")])]):t._e()])])},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-m"},[t._v("Current Password")]),a("h3",{staticClass:"content-subtitle roboto-m"},[t._v(" Please type your current password ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-m"},[t._v("New Password")]),a("h3",{staticClass:"content-subtitle roboto-m"},[t._v(" Please type your new password ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-m"},[t._v("Confirm New Password")]),a("h3",{staticClass:"content-subtitle roboto-m"},[t._v(" Please re-type your new password ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-google"},[a("div",{staticClass:"con-google-main"},[a("div",[t._v(" ðŸ”’ password locked, signed in with google, account provider linking coming soon... ")])])])}],qt={name:"settings-password-page",data:function(){return{password1:"",password2:"",password3:"",isActive:!1,isGoogle:"google.com"===C["auth"].currentUser.providerData[0].providerId}},methods:{savesettings:function(){},isChanged:function(){this.password1.length>7&&this.password2.length>7&&this.password3.length>7&&this.password2===this.password3?this.isActive=!0:this.isActive=!1},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},updateInfo:function(){var t=this,e=C["auth"].EmailAuthProvider.credential(C["auth"].currentUser.email,this.password1);C["auth"].currentUser.reauthenticateWithCredential(e).then((function(){t.openNotification("success","Password updated","success")})).catch((function(e){t.openNotification("failed",e,"danger")}))}}},zt=qt,Mt=(a("093e"),Object(w["a"])(zt,Vt,Bt,!1,null,"de005afe",null)),Ht=Mt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-password-main"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.getFavGamesSettings.length>0,expression:"getFavGamesSettings.length > 0"}],staticClass:"content-main"},[a("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.getFavGamesSettings,(function(e){return a("div",{key:e.gameId,staticClass:"game-card"},[a("div",{staticClass:"game-img-container"},[a("img",{staticClass:"game-img",attrs:{src:e.url_square,alt:"game-image"}})]),a("div",{staticClass:"game-card-content"},[a("div",[a("h2",{staticClass:"gname roboto-m"},[t._v(t._s(e.gameName))]),a("h3",{staticClass:"uname roboto-m"},[t._v(t._s(e.uname))])]),a("div",{staticClass:"game-options-container"},[a("button",{staticClass:"game-options",on:{click:function(a){return t.deleteGame(e.gameId)}}},[a("i",{staticClass:"bx bxs-x-circle game-options-txt"})])])])])})),0)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.getFavGamesSettings.length,expression:"getFavGamesSettings.length === 0"}],staticClass:"content-main"},[t._m(0)])])},Wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-google"},[a("div",{staticClass:"con-google-main"},[a("div",[t._v(" You have no games with a username. ")])])])}],Jt={name:"settings-password-page",data:function(){return{}},methods:Object(v["a"])(Object(v["a"])({},Object(b["b"])(["favGameAction"])),{},{deleteGame:function(t){var e=this;C["usersCollection"].doc(this.getUser.uid).collection("favGames").doc(t).delete().then((function(){e.openNotification("Success","Username was erased","success"),e.favGameAction(e.getUser.uid)})).catch((function(t){e.openNotification("Failed","Username failed to be erased: ".concat(t),"danger")}))},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})}}),computed:Object(v["a"])({},Object(b["c"])(["getFavGamesSettings","getGames","getUser"]))},Qt=Jt,Zt=(a("63d5"),Object(w["a"])(Qt,Yt,Wt,!1,null,"7e92cc2c",null)),Xt=Zt.exports,Kt={components:{settingsName:Gt,settingsAccount:Ft,settingsPassword:Ht,settingsGame:Xt},data:function(){return{settingPosition:0,isLogout:!1,isHelp:!1}},methods:Object(v["a"])({signOut:function(){var t=this;this.$store.dispatch("signOutAction"),this.signOutAction().then((function(){t.$router.push("/signin")})),localStorage.removeItem("gameList")},classObject:function(t){return{selected:this.settingPosition===t,selectedBackground:this.settingPosition===t}}},Object(b["b"])(["signOutAction"]))},te=Kt,ee=(a("afd3"),Object(w["a"])(te,Pt,Ot,!1,null,"48c29b9a",null)),ae=ee.exports,se={name:"user_tab",data:function(){return{activeProfile:!1,settingScreen:!1,usernameChar:""}},computed:Object(v["a"])({},Object(b["c"])(["getProfile"])),components:{settings:ae},methods:{openSettings:function(){this.settingScreen=!this.settingScreen,this.activeProfile=!this.activeProfile}}},ie=se,ne=(a("f0f2"),Object(w["a"])(ie,St,Et,!1,null,null,null)),oe=ne.exports,re={name:"top_nav",data:function(){return{curGame:{},activeProfile:!1,settingScreen:!1}},methods:{openLogin:function(){this.$router.push("/signin")},logout:function(){this.signOutAction()},goHome:function(){var t="/crew/@me";this.$route.path!==t&&this.$router.push(t)}},components:{userTab:oe},computed:Object(v["a"])({},Object(b["c"])(["isUserAuth","getGames"]))},ce=re,ue=(a("378e"),Object(w["a"])(ce,At,xt,!1,null,"f2c36ec4",null)),le=ue.exports,de={components:{topNav:le}},me=de,fe=(a("973c"),Object(w["a"])(me,yt,wt,!1,null,"5747426e",null)),pe=fe.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"party-main"},[s("div",{staticClass:"party-container"},[s("div",{staticClass:"party-content"},[s("div",{staticClass:"audio-layout"},[s("audioLayout",{attrs:{muted:!0,user:t.getProfile}})],1),t._l(t.peers,(function(t){return s("div",{key:t.userId,staticClass:"audio-layout"},[s("audioLayout",{attrs:{muted:!1,audioStream:t.peerStream}})],1)}))],2)]),s("div",{staticClass:"party-options-container"},[s("div",{staticClass:"party-options-content"},[s("vs-avatar",{staticClass:"clickable",attrs:{size:"60",circle:"",color:"$c2_dark"},on:{click:t.mute}},[t.muted?s("i",{staticClass:"bx bxs-microphone"}):s("i",{staticClass:"bx bxs-microphone-off"})]),s("button",{staticClass:"hangup-btn",on:{click:t.hangUp}},[s("img",{attrs:{src:a("28b8"),alt:"",draggable:"false"}})])],1)])])},ve=[],he={iceServers:[{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:18.118.49.54?transport=tcp",username:"partyapp",credential:"connect"}]},be={appId:"partyapp-9961f-default-rtdb",rtcConfig:he,rootPath:"calls"},Ce={data:function(){return{roomId:"",peers:{},idsToUid:{},localStream:void 0,muted:!0}},components:{audioLayout:et},methods:Object(v["a"])(Object(v["a"])({},Object(b["b"])(["setRoomUsersAction"])),{},{getUserMedia:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 3:t.localStream=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.openNotification("Error","Permission denied. Refresh to try again.","danger");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},roomEvents:function(){var t=this;N.onPeerJoin((function(e){t.openNotification("USER JOIN","".concat(e," joined"),"success"),N.addStream(t.localStream),t.initP(e)})),N.onPeerStream((function(e,a){t.peers[a].peerStream=e})),N.onPeerLeave((function(e){t.openNotification("USER LEFT","".concat(t.idsToUid[e]," left"),"danger"),t.$delete(t.peers,e)}))},mute:function(){this.muted=!this.muted,this.localStream.getAudioTracks()[0].enabled=this.muted},hangUp:function(){var t=this;N.leave();var e=this.localStream.getTracks();e.forEach((function(t){t.stop()})),Object.keys(this.peers).forEach((function(e){t.peers[e].peerStream&&t.peers[e].peerStream.getTracks().forEach((function(t){return t.stop()})),t.peers[e].pc&&t.peers[e].pc.close()})),this.peers={},"/crew/@me"!==this.$route.path&&this.$router.push("/crew/@me")},leaveRoom:function(){N.leave()},initPeer:function(t,e){var a=this.getRoomUsers.find((function(t){return t.userId===e}));this.$set(this.peers,t,{userId:e,peerStream:void 0,user:a})},initP:function(t){this.$set(this.peers,t,{userId:t,peerStream:void 0})},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},init:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.roomId=t.$route.params.roomId,C["roomsCollection"].doc(t.roomId).get().then(function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.exists){e.next=8;break}return t.setRoomUsersAction({roomId:t.roomId,userId:t.getUser.uid}),e.next=4,t.getUserMedia();case 4:N=Object(at["a"])(be,t.roomId),t.roomEvents(),e.next=10;break;case 8:"/crew/@me"!==t.$route.path&&t.$router.push("/crew/@me"),t.openNotification("Error","Party doesn't Exist".concat(t.roomId),"danger");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},registerListeners:function(){}}),computed:Object(v["a"])({},Object(b["c"])(["getUser","getRoomUsers","getProfile"])),mounted:function(){this.init()},beforeDestroy:function(){var t=this,e=this.localStream.getTracks();e.forEach((function(t){t.stop()})),Object.keys(this.peers).forEach((function(e){t.peers[e].peerStream&&t.peers[e].peerStream.getTracks().forEach((function(t){return t.stop()})),t.peers[e].pc&&t.peers[e].pc.close()})),this.peers={},N.leave()},created:function(){}},_e=Ce,ye=(a("fd5d"),Object(w["a"])(_e,ge,ve,!1,null,"02d79e5b",null)),we=ye.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-main"},[a("div",{staticClass:"home-container"},[t.curGame?a("div",{staticClass:"join-game-container game-container"},[t.isLoading?t._e():a("div",{staticClass:"close-btn-container"},[a("button",{staticClass:"back-btn btn-div btn-drop",on:{click:function(e){t.curGame=null}}},[a("i",{staticClass:"bx bx-arrow-back",staticStyle:{color:"#ffffff"}})])]),t.isLoading?a("div",{staticClass:"close-btn-container"},[t.isBtn?a("button",{staticClass:"close-btn btn-div btn-drop",on:{click:t.cancelSearch}},[a("i",{staticClass:"bx bx-x btn-icon"})]):t._e()]):t._e(),a("div",{ref:"target",staticClass:"join-game-content"},[a("b-image",{staticClass:"join-game-img",attrs:{src:t.curGame.url,alt:t.curGame.gameName,ratio:"446by565"}}),a("button",{staticClass:"join-game-btn roboto-r",attrs:{disabled:t.isLoading},on:{click:function(e){t.hasGame?t.join(!1):t.addUsername()}}},[t._v(" Join ")])],1)]):a("div",{staticClass:"select-game-container game-container"},[a("div",{staticClass:"select-game-content"},t._l(t.getGames,(function(e){return a("button",{key:e.gameId,staticClass:"select-game-card btn-div btn-drop",attrs:{value:e},on:{click:function(a){return t.setGame(e)}}},[a("b-image",{attrs:{src:e.url,alt:e.gameName}})],1)})),0)])]),a("div",[[t.isConfirm?a("confirm",{attrs:{roomId:t.roomId},on:{close:function(e){t.isConfirm=!1}}}):t._e()]],2),a("div",[[t.isUsername?a("username",{on:{close:function(e){t.isUsername=!1}}}):t._e()]],2)])},xe=[],Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"bar-container"},[a("div",{ref:"sumbitBar",staticClass:"bar",style:{width:t.timeleft+"%"}})])]),a("div",{staticClass:"modal-body"},[a("h1",{staticClass:"modal-title roboto-m"},[t._v("MATCH FOUND")]),t.getRoomData?a("div",{staticClass:"dots-container"},[t._l(t.getRoomData.isConfirmed,(function(t,e){return a("div",{key:e},["1"===t[0]?a("div",{staticClass:"dot dot-green"}):a("div",{staticClass:"dot dot-red"})])})),t._l(t.empDot,(function(t,e){return a("div",{key:"a"+e},[a("div",{staticClass:"dot dot-emp"})])}))],2):t._e()]),t.canSub?a("div",{staticClass:"modal-footer"},[a("button",{ref:"accept-btn",staticClass:"modal-accept-button modal-button roboto-m btn-drop",on:{click:t.accept}},[t._v(" Accept ")]),a("button",{staticClass:"modal-leave-button modal-button roboto-m btn-drop",on:{click:function(e){return t.$emit("close")}}},[t._v(" Leave ")])]):t._e()])])])])},Ee=[],Pe=new i["default"],Oe=Pe,ke=a("41cf"),Ie=a("202d"),je=a.n(Ie),Ue={components:{},data:function(){return{showModal:!1,timeleft:100,canSub:!0,isAccepted:!1,submitTimer:void 0,serverTimeOffset:0}},props:{roomId:{type:String,default:""}},methods:{countDown:function(){var t=this;C["rtDb"].ref(".info/serverTimeOffset").on("value",(function(e){t.serverTimeOffset=e.val()}));var e=Date.now();this.submitTimer=ke["b"]((function(){var a=2e4-(Date.now()-e-t.serverTimeOffset);if(a<0)t.canSub=!1,t.isAccepted&&Oe.$emit("search"),t.$emit("close");else{t.isAllSub&&(t.isGood?(t.setRoom(t.roomId,t.getRoomData.game),t.joinRoom()):t.isAccepted&&Oe.$emit("search"),t.$emit("close"));var s=a/1e3*10/2;t.timeleft=s}}),100)},accept:function(){this.timeleft>0&&this.canSub&&(this.isAccepted=!0,this.canSub=!1,C["roomsCollection"].doc(this.roomId).update({isConfirmed:h["a"].firestore.FieldValue.arrayUnion("".concat(1,"-",this.getUser.uid))}))},decline:function(){this.timeleft>0&&this.canSub&&(this.canSub=!1,C["roomsCollection"].doc(this.roomId).update({isConfirmed:h["a"].firestore.FieldValue.arrayUnion("".concat(0,"-",this.getUser.uid))}))},joinRoom:function(){this.$route.path!=="/crew/".concat(this.roomId)&&this.$router.push("/crew/".concat(this.roomId))},setRoom:function(t,e){var a=C["db"].doc("/status/".concat(this.getUser.uid));a.set({roomId:t,gameId:e},{merge:!0})},statusEmpty:function(){this.updateStatus("still")},updateStatus:function(t){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,C["statusCollection"].doc(e.getUser.uid).set({activity:t},{merge:!0});case 2:case"end":return a.stop()}}),a)})))()}},mounted:function(){var t=this;this.countDown(),this.$on("close",(function(){ke["a"](t.submitTimer),t.decline(),t.statusEmpty();var e=t.playFound.currentTime>0&&!t.playFound.paused&&!t.playFound.ended;e&&t.playFound.pause()})),this.playFound.volume=.2,this.playFound.play()},beforeDestroy:function(){this.$emit("close")},computed:Object(v["a"])({isGood:function(){return!!this.getRoomData.isConfirmed&&this.getRoomData.isConfirmed.every((function(t){return"1"===t[0]}))},isAllSub:function(){return!!this.getRoomData.isConfirmed&&this.getRoomData.size===this.getRoomData.isConfirmed.length},empDot:function(){return this.getRoomData.isConfirmed?this.getRoomData.size-this.getRoomData.isConfirmed.length:0},playFound:function(){return new Audio(je.a)}},Object(b["c"])(["getRoomData","getRoomId","getUser"]))},Re=Ue,Ge=(a("1b5c"),Object(w["a"])(Re,Se,Ee,!1,null,"7ab0c940",null)),De=Ge.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit;return[a("form",{on:{submit:function(e){return e.preventDefault(),s(t.save)}}},[a("div",{staticClass:"modal-body"},[a("ValidationProvider",{staticClass:"full-width",attrs:{name:"username",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"uname-content-container"},[a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-m"},[t._v("Add username")]),a("h3",{staticClass:"content-subtitle roboto-m"},[t._v(" Add In game username ")])]),a("b-field",{staticClass:"field",attrs:{type:"is-danger",message:s[0]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"content-input",attrs:{type:"text",placeholder:"Username#0000"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])],1)]}}],null,!0)})],1),t.canSub?a("div",{staticClass:"modal-footer"},[a("button",{ref:"accept-btn",staticClass:"\n                  modal-accept-button modal-button\n                  roboto-m\n                  btn-drop\n                ",attrs:{type:"submit"}},[t._v(" Save ")]),a("button",{staticClass:"modal-leave-button modal-button roboto-m btn-drop",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" Cancel ")])]):t._e()])]}}])})],1)])])])},$e=[];Object(s["c"])("required",Object(v["a"])(Object(v["a"])({},k["c"]),{},{message:"This field is required"}));var Le={data:function(){return{canSub:!0,username:""}},components:{ValidationProvider:s["b"]},methods:Object(v["a"])(Object(v["a"])({},Object(b["b"])(["favGameAction"])),{},{save:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.canSub){e.next=7;break}return console.log("save"),t.canSub=!1,e.next=5,C["usersCollection"].doc(t.getUser.uid).collection("favGames").doc(t.getGame.gameId).set({uname:t.username,gameId:t.getGame.gameId});case 5:t.$emit("close"),t.favGameAction(t.getUser.uid);case 7:case"end":return e.stop()}}),e)})))()}}),computed:Object(v["a"])({},Object(b["c"])(["getGame","getUser"]))},Te=Le,Fe=(a("3b80"),Object(w["a"])(Te,Ne,$e,!1,null,null,null)),Ve=Fe.exports,Be={components:{confirm:De,username:Ve},data:function(){return{isBtn:!1,isConfirm:!1,isUsername:!1,curGame:null,isLoading:!1,loading:null,searching:null,roomListener:null,roomId:""}},methods:Object(v["a"])(Object(v["a"])({},Object(b["b"])(["hostGameAction","setRoomIdAction","bindRoomDataRef","unbindRoomDataRef"])),{},{setGame:function(t){this.$store.commit("setGame",t),this.curGame=this.getGame},join:function(t){var e=this;if("looking"!==this.getUserStatus.activity||t){this.statusLooking(),this.disTpRoom(),this.loading=this.$vs.loading({target:this.$refs.target,type:"corners",background:"#195bff",color:"#fff",opacity:"1",text:"looking for partys"}),this.isBtn=!1,setTimeout((function(){e.isBtn=!0}),2e3),this.isLoading=!0;var a=h["a"].firestore.Timestamp.fromDate(new Date),s=C["playersCollection"].doc(),i=s.id;C["playersCollection"].doc(i).set({userId:this.getUser.uid,game:this.getGame.gameId,createdAt:a,size:this.getGame.maxPlayers}).then((function(){e.searching=C["playersCollection"].doc(i).onSnapshot((function(t){var a=t.data(),s=a.roomId;s&&(e.roomId=s,e.setTempRoom(s),e.roomListener=C["roomsCollection"].doc(s).onSnapshot(function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(a){var i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.exists){t.next=16;break}if(i=a.data(),n=i.full,o=i.isActive,!n||!e.isLoading||!0!==o){t.next=11;break}return t.next=5,e.setRoomIdAction(s);case 5:e.unbindRoomDataRef(),e.bindRoomDataRef(),e.isConfirm=!e.isConfirm,e.closeLoading(),t.next=16;break;case 11:if(!e.isLoading||!0===o){t.next=16;break}return t.next=14,e.statusEmpty();case 14:e.closeLoading(),e.join();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.openNotification("Join room failed",t,"danger"),e.closeLoading()})))}))})).catch((function(t){e.openNotification("failed",t,"danger"),e.closeLoading()}))}else this.openNotification("Failed","another instance is already looking for a game","danger")},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},disRoom:function(){this.roomId&&C["roomsCollection"].doc(this.roomId).update({isActive:!1})},statusLooking:function(){this.updateStatus("looking")},statusFound:function(){this.updateStatus("found")},statusEmpty:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updateStatus("still");case 2:case"end":return e.stop()}}),e)})))()},updateStatus:function(t){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,C["statusCollection"].doc(e.getUser.uid).set({activity:t},{merge:!0});case 2:case"end":return a.stop()}}),a)})))()},cancelSearch:function(){this.statusEmpty(),this.disRoom(),this.closeLoading()},closeLoading:function(){null!==this.loading&&this.loading.close(),this.isLoading=!1,null!==this.searching&&(this.searching(),this.searching=null),null!==this.roomListener&&(this.roomListener(),this.roomListener=null)},addUsername:function(){this.isUsername=!0},setTempRoom:function(t){C["statusCollection"].doc(this.getUser.uid).set({tempRoomId:t},{merge:!0})},disTpRoom:function(){C["roomsCollection"].doc(this.getUserStatus.tempRoomId).update({isActive:!1})}}),computed:Object(v["a"])({activity:function(){return this.getUserStatus.activity},hasGame:function(){var t=this;return!!this.getFavGames&&this.getFavGames.some((function(e){return e.gameId===t.curGame.gameId}))}},Object(b["c"])(["getUser","getGame","getRoomId","getProfile","getGames","getFavGames","getRoomData","getUserStatus"])),watch:{activity:function(t){"still"===t&&this.disTpRoom()}},mounted:function(){var t=this;Oe.$on("search",(function(){t.join(!0)})),Oe.$on("disRoom",(function(){}))}},qe=Be,ze=(a("124f"),Object(w["a"])(qe,Ae,xe,!1,null,"36eb8322",null)),Me=ze.exports;i["default"].use(E["a"]);var He=[{path:"/",name:"index",component:pt},{path:"/crew",name:"main",meta:{requiresAuth:!0},component:pe,children:[{path:"@me",name:"me",component:Me},{path:"/crew/:roomId",name:"party",component:ct},{path:"/test",name:"test",component:we}]},{path:"/signin",name:"Signin",component:R},{path:"/signup",name:"Signup",component:F},{path:"/alpha",name:"alpha",component:_t,meta:{requiresAuth:!0}}],Ye=new E["a"]({mode:"history",base:"/",routes:He});Ye.beforeEach((function(t,e,a){var s=t.matched.some((function(t){return t.meta.requiresAuth})),i=h["a"].auth().currentUser;s&&!i?a("/signin"):a()}));var We=Ye,Je=a("3317"),Qe=Object(v["a"])({setUser:function(t,e){t.user=e},setError:function(t,e){t.error=e},setGame:function(t,e){t.currentGame=e},setGames:function(t,e){t.gamesList=e},setFavGames:function(t,e){t.favGames=e},setRoomId:function(t,e){t.roomId=e},setEmail:function(t,e){t.email=e},setRoomUsers:function(t,e){t.roomUsers=e},setRoomUsersListener:function(t,e){t.roomUsersListener=e}},Je["b"]),Ze=Qe,Xe=(a("4de4"),a("af87")),Ke=new h["a"].auth.GoogleAuthProvider,ta={signUpAction:function(t,e){var a=t.commit;return new Xe["Promise"]((function(t,s){h["a"].auth().createUserWithEmailAndPassword(e.email,e.password).then((function(i){a("setUser",i.user),i.user.sendEmailVerification().then((function(){console.log("Email sent")})),C["usersCollection"].doc(i.user.uid).set({username:e.username,tag:Math.floor(1e3+9e3*Math.random()),avatar:"",mfa_enabled:!1,premiumType:"",flags:0,userId:i.user.uid}).then((function(){i.user.updateProfile({displayName:e.username}),C["userDataCollection"].doc(i.user.uid).set({email:e.email,dob:h["a"].firestore.FieldValue.serverTimestamp(),sex:""}).then((function(){t()})).catch((function(t){s(t)})),t()}))})).catch((function(t){a("setError",t.message),s(t)}))}))},signInAction:function(t,e){var a=t.commit;return new Xe["Promise"]((function(t,s){h["a"].auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){a("setUser",e.user),t()})).catch((function(t){a("setError",t.message),s(t)}))}))},signOutAction:function(t){var e=t.commit;return new Xe["Promise"]((function(t,a){h["a"].auth().signOut().then((function(){e("setUser",null),t()})).catch((function(t){e("setError",t.message),a(t)}))}))},googleAuthAction:function(t){var e=t.commit;return new Xe["Promise"]((function(t,a){h["a"].auth().signInWithPopup(Ke).then((function(s){var i=s.user,n=C["usersCollection"].doc(s.user.uid);n.get().then((function(o){o.exists?(e("setUser",s.user),t()):n.set({username:i.displayName,tag:Math.floor(1e3+9e3*Math.random()),avatar:i.photoURL,mfa_enabled:!1,premiumType:"",flags:0,userId:i.uid}).then((function(){e("setUser",s.user),C["userDataCollection"].doc(s.user.uid).set({email:i.email,dob:h["a"].firestore.FieldValue.serverTimestamp(),sex:""}).then((function(){t()})).catch((function(t){a(t)})),t()}))}))})).catch((function(t){e("setError",t.message),a(t)}))}))},bindUserProfileRef:Object(Je["a"])((function(t){var e=t.state,a=t.bindFirestoreRef;return a("userProfile",C["usersCollection"].doc(e.user.uid))})),bindUserStatusRef:Object(Je["a"])((function(t){var e=t.state,a=t.bindFirestoreRef;return a("userStatus",C["statusCollection"].doc(e.user.uid))})),bindGameRef:function(t){var e=t.commit;C["gamesCollection"].get().then((function(t){if(t){var a=t.docs.map((function(t){return t.data()}));e("setGames",a)}}))},bindRoomDataRef:Object(Je["a"])((function(t){var e=t.state,a=t.bindFirestoreRef;return a("roomData",C["roomsCollection"].doc(e.roomId))})),unbindRoomDataRef:Object(Je["a"])((function(t){var e=t.unbindFirestoreRef;e("roomData")})),setRoomUsersAction:function(t,e){var a=t.commit;return new Xe["Promise"]((function(t,s){var i=C["roomsCollection"].doc(e.roomId).collection("activePlayers").onSnapshot((function(i){var n=[];i.forEach((function(t){var e=t.data(),a=e.uid,s=e.chatId;n.push({uid:a,chatId:s})}));var o=n.filter((function(t){return t.uid!==e.userId}));o.map((function(t){return t.uid})).length>0&&C["usersCollection"].where("userId","in",o.map((function(t){return t.uid}))).get().then((function(i){var n=[];i.forEach((function(t){var i=t.data(),r=o.filter((function(t){return t.uid===i.userId})).map((function(t){return t.chatId}));C["usersCollection"].doc(i.userId).collection("favGames").doc(e.gameId).get().then((function(t){var e=t.data(),a=e.uname;n.push({avatar:i.avatar,username:i.username,userId:i.userId,chatId:r[0],uname:a})})).catch((function(t){a("setError",t.message),s(t)}))})),a("setRoomUsers",n),t()})).catch((function(t){a("setError",t.message),s()}))}));a("setRoomUsersListener",i)}))},setRoomIdAction:function(t,e){var a=t.commit;return new Xe["Promise"]((function(t){setTimeout((function(){a("setRoomId",e),t()}),1e3)}))},favGameAction:function(t,e){var a=t.commit;return new Xe["Promise"]((function(t,s){C["usersCollection"].doc(e).collection("favGames").get().then((function(e){var s=[];e.forEach((function(t){s.push(t.data())})),a("setFavGames",s),t()})).catch((function(){s()}))}))}},ea=ta,aa={getUser:function(t){return t.user},getUserStatus:function(t){return t.userStatus},isUserAuth:function(t){return!!t.user},getError:function(t){return t.error},getProfile:function(t){return t.userProfile},getGames:function(t){return t.gamesList},getGame:function(t){return t.currentGame},getFavGames:function(t){return t.favGames},getFavGamesSettings:function(t){var e=[];return t.favGames.forEach((function(a){var s=t.gamesList.filter((function(t){return t.gameId===a.gameId}))[0];e.push({gameId:s.gameId,url_square:s.url_square,gameName:s.gameName,uname:a.uname})})),e},getRoomId:function(t){return t.roomId},getEmail:function(t){return t.email},getRoomUsers:function(t){return t.roomUsers},getRoomData:function(t){return t.roomData},getRoomUsersListener:function(t){return t.roomUsersListener}},sa=aa;i["default"].use(b["a"]);var ia,na=new b["a"].Store({state:{user:null,error:null,userProfile:{},gamesList:[],currentGame:{},roomId:"",email:"",roomUsers:[],roomData:{},roomUsersListener:null,favGames:[],userStatus:{}},mutations:Ze,actions:ea,getters:sa,modules:{}}),oa=a("1543");i["default"].config.productionTip=!1,i["default"].component("ValidationProvider",s["b"]),i["default"].component("ValidationObserver",s["a"]),i["default"].use(m.a),i["default"].use(o.a),i["default"].use(r["a"]),i["default"].use(c["a"]),i["default"].use(u["a"]),i["default"].use(l["a"]),i["default"].use(f["a"]),oa.auth.onAuthStateChanged((function(){ia||(ia=new i["default"]({router:We,store:na,render:function(t){return t(x)}}).$mount("#app"))}))},"5c0b":function(t,e,a){"use strict";a("9c0c")},"62ca":function(t,e,a){t.exports=a.p+"img/say_hi.9d7b0d33.png"},"63d5":function(t,e,a){"use strict";a("ff49")},"6a2d":function(t,e,a){},"6b33":function(t,e,a){},"72fc":function(t,e,a){"use strict";a("955e")},"85c0":function(t,e,a){},8661:function(t,e,a){},"8a79":function(t,e,a){"use strict";a("ad3f")},"955e":function(t,e,a){},"973c":function(t,e,a){"use strict";a("d907")},"9c0c":function(t,e,a){},a12c:function(t,e,a){},a57f:function(t,e,a){},ab4b:function(t,e,a){t.exports=a.p+"img/choose_game.7612cc56.png"},ad3f:function(t,e,a){},afd3:function(t,e,a){"use strict";a("15a2")},b047:function(t,e,a){"use strict";a("21eb")},b5cc:function(t,e,a){},c5c0:function(t,e,a){"use strict";a("c698")},c698:function(t,e,a){},d907:function(t,e,a){},ea1e:function(t,e,a){"use strict";a("f774")},f0f2:function(t,e,a){"use strict";a("09a4")},f774:function(t,e,a){},f936:function(t,e,a){},fd5d:function(t,e,a){"use strict";a("85c0")},ff49:function(t,e,a){}});
//# sourceMappingURL=app.552fd44d.js.map
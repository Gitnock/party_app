(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"040e":function(t,e,a){"use strict";a("a356")},"07e0":function(t,e,a){"use strict";a("891d")},"0954":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAAAmCAYAAABH00DVAAAABHNCSVQICAgIfAhkiAAABaxJREFUeF7tmz3IHkUQx/9TaaeVaYRYiFpqqWkCCWhlCjsFERQULKzUpLVJjK2FgkIQFFJYmErBiI0Bi2A6jZVpRFMlXVKN7LHPsbfPzH7O+Z4++5bv3e7t/ee3s/NxD2H8DQU2oABtYA1jCUMBDBAHBJtQYIC4CTOMRQwQBwObUGCAuAkzjEUMEAcDm1BgApGZPwTwXuGK7gL4C8B1AF8Q0Xcl45j5DoCHontvENEzufHM/D2AU7n7/PXk+irnyj3yqr9BWtunRPSWNgEz/wHguHD9HBFdiP/fqZ+5fSt1vA3gTwA/a5q0gBhqdB/A10T0SspiCdDd+DM5mCtfOl7fpfDlO+aSXtGB+BGAbwA8EN1wi4gekwYx8+sAPhOuiRvTQL8aEIvs26GjcxQX4s3WC+Ju0UnPxsy/AHhagfWrApBrPKL0mPkZHQKKIBLR6cScbxDR54J3+wnAc8KE2v29+rWCqNrXQMeF3a1AdAtWjyJmvid4jN1L3iSipzIetRdEN/1kZAMBw6Ve9SA+r3jFa0R0IhzAzNq96mY20K8XxD37GujoTsO3dxs1B+IVAL8FQroY7ySAJwVw7hLRw8Lu/xLAy5lgS/QEuzGJl74YzfsogNMAHtGOPX8sPqGs5zVhrItvLin3/74TUvH6e6EHM2t6aN7QQj8NxGb7WtrEaZsD8SIRvS/A5eCUYNzzisys3RtOe4WIzmiwai9NRHtZf8LjiBsl8lZSAqHGetFYLe5bHEHM/LcAe8obWuingdhs3wabXBaSVSfhCy5HaAVRE306qgJP5o6hbyPAXLAaZ8+3ieiYBYhuDmYWYzAJXCsQ/XOlWG7eAImkQ/OGVvrVgpi1bw2IXhvNs0+boQlEPzEL4MQgumzyxei+awAeF7yCWLbwzxJjRA2sWpGCjdPsEf06NQNOYivHd8obWulXBWKJfWs1TmzCfwVE6Rg6B+BZCdA4sM/FiFsDMeEVbwD4WCnZqPGxcoy36Pf/BJGZPwHwpuAR51hPqZVNx5Ry7T4RPSgdzw27TyqeZ2M9pcicHVcYKzoY4xJWyhtK3rVVvyoQC+1be0ppJavpJKw+mn3W95JSjpl3txKnzeUMZbeLJaBSED3g7yqJVEm9sutoDjx4qu4XcpvyhpLhWvUrBrHCvkUg+uTR2UTqPs3xcw5ELX+Q/r+oByotqTkOZGYp/tE6C711xGQyZBUjBvNosWKoW64JIHn1Vv0s6oixfXtt4rSYT1ArEF2t7dVdq46ZzwI4H9G6OHoTba4pnY+Ou56XFltKSghg4hETsWL4WLF04sda69cL4sK+qQSywnMtNqIFiLdcvBjCU5odKsfz3hHaUcV3GfoHuV62tUfMZNDucjLuXEG/HhD37GsA4l7HqQfEmwB+lL6myLSkcptmz0gdICYL5fFCLJKVyJNrsaLqDb2RUy3RFv1aQFTt2wii6zL9CuCy9HVRDsS4BeTWMLe1lONNy6hzAqpBfGE76R0hgSr6umcNj5gyVqqwnshYe/QrbfFl7RtopYVLcdvVDfkhdyrlQEzuXAXEkpZUTtSFJyvJmhM93EWRPfXgFTxiUWYZedE19CvOmnOGyYGY615p85uC6FP1uKVX+m7hfYu+cAmI3gNJmWaxVzxqEFfU7+BAVPuJCRrdJ2BxG9DdHpYqijxLr1fcAIhr6XdwIEotvWwNj5mlvvWc3pd6xIRXdJeSn5r5sWblm5YYUakiWOh3OCAm6oLZGE35VGyuO1aCqHmV7O9jjtIjrqzfQYGoZVHqVzVB4Ct1WdzlqeVXA2KPVzxiENfU76BAFBMF7UOGKFOUOgnulqmt1ABik1c8YhDX1O+/AWJLWjvGDAUsFRg/sLdUc8zVrMAAsVm6MdBSgQGipZpjrmYFBojN0o2BlgoMEC3VHHM1KzBAbJZuDLRUYIBoqeaYq1mBfwBQJsFjBgFPjAAAAABJRU5ErkJggg=="},"09a4":function(t,e,a){},"0d77":function(t,e,a){"use strict";a("67ce")},1543:function(t,e,a){"use strict";a.r(e),a.d(e,"db",(function(){return i})),a.d(e,"rtDb",(function(){return c})),a.d(e,"auth",(function(){return o})),a.d(e,"currentUser",(function(){return r})),a.d(e,"usersCollection",(function(){return u})),a.d(e,"friendsCollection",(function(){return m})),a.d(e,"gamesCollection",(function(){return f})),a.d(e,"playersCollection",(function(){return p})),a.d(e,"roomsCollection",(function(){return g})),a.d(e,"notificationsCollection",(function(){return v})),a.d(e,"friendChatCollection",(function(){return h})),a.d(e,"storage",(function(){return l})),a.d(e,"userDataCollection",(function(){return d}));var n=a("260b"),s=(a("e71f"),a("66ce"),a("ea7b"),a("588e"),a("8934"),{apiKey:"AIzaSyDW5tcHz8aCO30IFVpLxbggLGYY-Ak6TkQ",authDomain:"partyapp-9961f.firebaseapp.com",databaseURL:"https://partyapp-9961f-default-rtdb.firebaseio.com",projectId:"partyapp-9961f",storageBucket:"partyapp-9961f.appspot.com",messagingSenderId:"19139069320",appId:"1:19139069320:web:70a4805e4847e9d79ca63d",measurementId:Object({NODE_ENV:"production",VUE_APP_API_KEY:"AIzaSyDW5tcHz8aCO30IFVpLxbggLGYY-Ak6TkQ",VUE_APP_APP_ID:"1:19139069320:web:70a4805e4847e9d79ca63d",VUE_APP_AUTH_DOMAIN:"partyapp-9961f.firebaseapp.com",VUE_APP_DATABASE_URL:"https://partyapp-9961f-default-rtdb.firebaseio.com",VUE_APP_MESSAGING_SENDER_ID:"19139069320",VUE_APP_PROJECT_ID:"partyapp-9961f",VUE_APP_STORAGE_BUCKET:"partyapp-9961f.appspot.com",BASE_URL:"/"}).VUE_MEASUREMENT_ID});n["a"].initializeApp(s);var i=n["a"].firestore(),o=n["a"].auth(),r=o.currentUser,c=n["a"].database(),l=n["a"].storage(),u=i.collection("users"),d=i.collection("userData"),m=i.collection("friends"),f=i.collection("games"),p=i.collection("players"),g=i.collection("rooms"),v=i.collection("notifications"),h=i.collection("friendChat")},1826:function(t,e,a){t.exports=a.p+"img/alpha_window.3a18b0c7.svg"},"1e43":function(t,e,a){},"1ed9":function(t,e,a){"use strict";a("9d4a")},"28b8":function(t,e,a){t.exports=a.p+"img/hangup.bc1f32b4.svg"},"39ef":function(t,e,a){},"3c79":function(t,e,a){},"3ffe":function(t,e,a){t.exports=a.p+"img/copy_username.b6b39288.png"},5244:function(t,e,a){t.exports=a.p+"img/partyapp_logo.20324b02.svg"},"553b":function(t,e,a){t.exports=a.p+"img/copy.201810b0.svg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("04f2"),a("5abe");var n=a("7bb1"),s=a("2b0e"),i=a("574d"),o=a.n(i),r=a("544d"),c=a("10bd"),l=a("b897"),u=a("372a"),d=a("7e79"),m=a.n(d),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},p=[],g=a("5530"),v=a("260b"),h=(a("ea7b"),a("2f62")),b=a("1543"),C={methods:Object(g["a"])(Object(g["a"])({},Object(h["b"])(["bindGameRef"])),{},{rtdb_presence:function(t){var e=b["rtDb"].ref("/status/".concat(t)),a={state:"offline",last_changed:v["a"].database.ServerValue.TIMESTAMP},n={state:"online",last_changed:v["a"].database.ServerValue.TIMESTAMP};b["rtDb"].ref(".info/connected").on("value",(function(t){!1!==t.val()&&e.onDisconnect().set(a).then((function(){e.set(n)}))}))},rtdb_and_local_fs_presence:function(t){var e=b["rtDb"].ref("/status/".concat(t)),a={state:"offline",last_changed:v["a"].database.ServerValue.TIMESTAMP},n={state:"online",last_changed:v["a"].database.ServerValue.TIMESTAMP},s=b["db"].doc("/status/".concat(t)),i={state:"offline",last_changed:v["a"].firestore.FieldValue.serverTimestamp()},o={state:"online",last_changed:v["a"].firestore.FieldValue.serverTimestamp()};b["rtDb"].ref(".info/connected").on("value",(function(t){!1!==t.val()?e.onDisconnect().set(a).then((function(){e.set(n),s.set(o,{merge:!0})})):s.set(i,{merge:!0})}))}}),mounted:function(){var t=this;v["a"].auth().onAuthStateChanged((function(e){if(e)if(t.rtdb_presence(e.uid),t.rtdb_and_local_fs_presence(e.uid),t.$store.commit("setUser",e),t.$store.dispatch("bindUserProfileRef"),null===localStorage.getItem("gameList"))t.bindGameRef().then((function(){localStorage.setItem("gameList",JSON.stringify(t.getGames))}));else{var a=JSON.parse(localStorage.getItem("gameList"));t.$store.commit("setGames",a)}}))},computed:Object(g["a"])({},Object(h["c"])(["getGames"]))},_=C,w=(a("5c0b"),a("2877")),y=Object(w["a"])(_,f,p,!1,null,null,null),A=y.exports,x=a("9483");Object(x["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var E=a("8c4f"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("section",{ref:"asyncImage",staticClass:"sidebar"},[n("div",{staticClass:"sidebar-content"},[n("header",[n("router-link",{attrs:{to:"/"}},[n("div",[n("img",{staticClass:"title",attrs:{src:a("0954"),alt:"party app title",draggable:"false"}})])])],1),t._m(0)])]),n("section",{staticClass:"content"},[t._m(1),n("nav",{staticClass:"auth-nav"},[n("p",{staticClass:"auth-link"},[t._v(" Need an account?"),n("router-link",{attrs:{to:"Signup"}},[t._v(" Signup")])],1)]),n("div",{staticClass:"content-main"},[n("div",{staticClass:"auth-content"},[n("h1",{staticClass:"subtitle-color roboto-medium"},[t._v("Sign in to PartyApp")]),n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[n("form",{on:{submit:function(e){return e.preventDefault(),a(t.emailauth)}}},[n("div",{staticClass:"auth-form"},[n("div",{staticClass:"container"},[n("label",{attrs:{for:"uname"}},[n("b",{staticClass:"subtitle-color"},[t._v("Email")])]),n("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[n("vs-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)]}}],null,!0)}),n("label",{attrs:{for:"psw"}},[n("b",{staticClass:"subtitle-color"},[t._v("Password")]),n("p",{staticClass:"auth-forgot"},[n("router-link",{attrs:{to:"passreset"}},[t._v("Forgot password")])],1)]),n("ValidationProvider",{attrs:{name:"password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[n("vs-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]}}],null,!0)}),n("div",{staticClass:"auth-buttons"},[n("button",{staticClass:"button email-auth",attrs:{type:"submit"}},[t._v(" Login ")]),n("button",{staticClass:"button google-auth",attrs:{type:"button"},on:{click:t.googleauth}},[n("span",{staticClass:"icon"},[n("i",{staticClass:"bx bxl-google",staticStyle:{color:"#ffffff"}})])])]),n("p",{staticClass:"auth-link-phone"},[n("router-link",{attrs:{to:"Signup"}},[t._v("Need an account?")])],1)],1)])])]}}])})],1)])])])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-art"},[a("h2",{staticClass:"side-art-subtitle"},[t._v("Never play alone")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"level m-nav"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"})])])}],k=(a("5377"),a("4c93"));Object(n["c"])("email",k["a"]),Object(n["c"])("required",Object(g["a"])(Object(g["a"])({},k["c"]),{},{message:"This field is required"}));var O={metaInfo:{title:"PartyApp",titleTemplate:"%s | Signin",htmlAttrs:{lang:"en",amp:!0}},data:function(){return{email:"",password:""}},components:{ValidationProvider:n["b"]},methods:Object(g["a"])(Object(g["a"])({},Object(h["b"])(["signInAction","googleAuthAction"])),{},{emailauth:function(){var t=this;this.signInAction({email:this.email,password:this.password}).then((function(){t.init()})).catch((function(e){t.openNotification("ERROR",e.message,"danger")}))},googleauth:function(){var t=this;this.googleAuthAction().then((function(){t.init()}))},init:function(){var t=this,e=this.$vs.loading({type:"corners",background:"#195bff",color:"#fff",opacity:"1",text:"Checking you out, just a moment"});setTimeout((function(){t.getProfile.flags?t.$router.push("/crew/@me"):t.$router.push("/alpha"),e.close()}),1e3)},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})}}),mounted:function(){this.getEmail&&(this.email=this.getEmail)},computed:Object(g["a"])({},Object(h["c"])(["getProfile","getEmail"]))},j=O,I=(a("cbc4"),Object(w["a"])(j,P,S,!1,null,"47855122",null)),U=I.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("section",{ref:"asyncImage",staticClass:"sidebar"},[n("div",{staticClass:"sidebar-content"},[n("header",[n("router-link",{attrs:{to:"/"}},[n("div",[n("img",{staticClass:"title",attrs:{src:a("0954"),alt:"party app title",draggable:"false"}})])])],1),t._m(0)])]),n("section",{staticClass:"content"},[t._m(1),n("nav",{staticClass:"auth-nav"},[n("p",{staticClass:"auth-link"},[t._v(" Already a member? "),n("router-link",{attrs:{to:"Signin"}},[t._v("login")])],1)]),n("div",{staticClass:"content-main"},[n("div",{staticClass:"auth-content"},[n("h1",{staticClass:"subtitle-color roboto-medium"},[t._v("Sign up to PartyApp")]),n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[n("form",{on:{submit:function(e){return e.preventDefault(),a(t.emailauth)}}},[n("div",{staticClass:"auth-form"},[n("div",{staticClass:"container"},[n("label",{attrs:{for:"username"}},[n("b",[t._v("Username")])]),n("ValidationProvider",{attrs:{name:"username",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[n("vs-input",{attrs:{placeholder:"Username",maxlength:"15"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)]}}],null,!0)}),n("label",{attrs:{for:"email"}},[n("b",[t._v("Email")])]),n("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[n("vs-input",{attrs:{type:"email",placeholder:"Email",maxlength:"125",autocomplete:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)]}}],null,!0)}),n("label",{attrs:{for:"psw"}},[n("b",[t._v("Password")])]),n("ValidationProvider",{attrs:{name:"password",rules:"required|min:8"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-field",{staticClass:"field",attrs:{type:"is-danger",message:a[0]}},[n("vs-input",{attrs:{type:"password",placeholder:"Password",maxlength:"30"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]}}],null,!0)}),n("div",{staticClass:"auth-buttons"},[n("button",{staticClass:"button email-auth"},[t._v("Continue")]),n("button",{staticClass:"button google-auth",attrs:{type:"button"},on:{click:t.googleauth}},[n("span",{staticClass:"icon"},[n("i",{staticClass:"bx bxl-google",staticStyle:{color:"#ffffff"}})])])]),n("p",{staticClass:"auth-link-phone"},[n("router-link",{attrs:{to:"Signin"}},[t._v(" Already have an account?")])],1),n("p",{staticClass:"auth-terms"},[t._v(" By registering, you agree to Mifiy's "),n("router-link",{attrs:{to:"Signup"}},[t._v("Terms of Service")]),t._v(" and "),n("router-link",{attrs:{to:"Signup"}},[t._v("Privacy Policy")])],1)],1)])])]}}])})],1)])])])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-art"},[a("h2",{staticClass:"side-art-subtitle"},[t._v("Need a player Two")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"level m-nav"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"})])])}];Object(n["c"])("email",k["a"]),Object(n["c"])("min",Object(g["a"])(Object(g["a"])({},k["b"]),{},{message:"min of 8 length"})),Object(n["c"])("required",Object(g["a"])(Object(g["a"])({},k["c"]),{},{message:"This field is required"}));var N={metaInfo:{title:"PartyApp",titleTemplate:"%s | Signup",htmlAttrs:{lang:"en",amp:!0}},components:{ValidationProvider:n["b"]},data:function(){return{username:"",email:"",password:""}},methods:Object(g["a"])({emailauth:function(){var t=this;this.signUpAction({email:this.email,password:this.password,username:this.username}).then((function(){t.init()})).catch((function(e){t.openNotification("ERROR",e.message,"danger")}))},googleauth:function(){var t=this;this.googleAuthAction().then((function(){t.init()}))},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},init:function(){var t=this,e=this.$vs.loading({type:"corners",background:"#195bff",color:"#fff",opacity:"1",text:"Checking you out, just a moment"});setTimeout((function(){t.getProfile.flags?t.$router.push("/crew/@me"):t.$router.push("/alpha"),e.close()}),1e3)}},Object(h["b"])(["signUpAction","googleAuthAction"])),computed:Object(g["a"])({},Object(h["c"])(["getEmail","getProfile"])),mounted:function(){this.getEmail&&(this.email=this.getEmail)}},G=N,$=(a("f039"),Object(w["a"])(G,R,D,!1,null,"5f25a372",null)),L=$.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"party-main"},[n("div",{staticClass:"party-container"},[n("div",{staticClass:"party-content"},[n("div",{staticClass:"audio-layout"},[n("audioLayout",{attrs:{muted:!0,audioStream:t.localStream,user:t.getProfile}})],1),t._l(t.peers,(function(e){return n("div",{key:e.userId,staticClass:"audio-layout"},[e.user?n("audioLayout",{attrs:{muted:!0,audioStream:e.peerStream,user:e.user}}):t._e()],1)}))],2)]),n("div",{staticClass:"party-options-container"},[n("div",{staticClass:"party-options-content"},[n("vs-avatar",{staticClass:"clickable",attrs:{size:"60",circle:"",color:"#202330"},on:{click:t.mute}},[t.muted?n("i",{staticClass:"bx bxs-microphone"}):n("i",{staticClass:"bx bxs-microphone-off"})]),n("button",{staticClass:"hangup-btn",on:{click:t.hangUp}},[n("img",{attrs:{src:a("28b8"),alt:"",draggable:"false"}})])],1)])])},V=[],B=a("1da1"),q=(a("99af"),a("159b"),a("bf19"),a("7db0"),a("b64b"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"audio-container"},[a("audio",{domProps:{srcObject:t.audioStream}}),t.muted?t._e():a("div",{staticClass:"audio-muted"},[a("vs-avatar",{staticClass:"clickable",attrs:{circle:"",color:"#161823"},on:{click:function(e){t.curGame=null}}},[a("i",{staticClass:"bx bx-volume-mute"})])],1),a("div",{staticClass:"audio-content"},[a("vs-avatar",{staticClass:"user-avatar",attrs:{size:"96",circle:"",color:"#161823"},scopedSlots:t._u([!t.user.avatar&&t.user.username?{key:"text",fn:function(){return[t._v(" "+t._s(t.user.username.charAt(0))+" ")]},proxy:!0}:null],null,!0)},[t.user.avatar?a("img",{attrs:{src:""+t.user.avatar,alt:"profile image",draggable:"false"}}):t._e()])],1),a("userInfo",{attrs:{user:t.user}})],1)}),z=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userInfo-container"},[t.user?a("h2",{staticClass:"username roboto-medium username-nowrap"},[t._v(" "+t._s(t.user.username)+" ")]):t._e(),t._m(0)])},F=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"copyUsername-btn"},[n("img",{attrs:{src:a("553b"),alt:"copy button",draggable:"false"}})])}],H={name:"userInfo",props:{user:Object}},W=H,Y=(a("7cd3"),Object(w["a"])(W,M,F,!1,null,"2e9fc4de",null)),J=Y.exports,Q={name:"audioLayout",data:function(){return{usernameChar:""}},components:{userInfo:J},props:{muted:Boolean,audioStream:MediaStream,isMe:Boolean,user:Object}},Z=Q,K=(a("c6b2"),Object(w["a"])(Z,q,z,!1,null,"54be72e5",null)),X=K.exports,tt={iceServers:[{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:18.118.49.54?transport=tcp",username:"partyapp",credential:"connect"}]},et={data:function(){return{roomId:"",peers:{},localStream:void 0,muted:!0}},components:{audioLayout:X},methods:Object(g["a"])(Object(g["a"])({},Object(h["b"])(["getRoomUsersAction"])),{},{init:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUserMedia();case 2:t.roomId=t.$route.params.roomId,b["roomsCollection"].doc(t.roomId).get().then(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.exists){e.next=8;break}return t.getRoomUsersAction({roomId:t.roomId,userId:t.getUser.uid}),e.next=4,t.userJoined();case 4:t.listenNewUsers(),t.listenNewConnections(),e.next=10;break;case 8:"/crew/@me"!==t.$route.path&&t.$router.push("/crew/@me"),t.openNotification("Error","Party doesn't Exist".concat(t.roomId),"danger");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})))()},getUserMedia:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!1,audio:{sampleSize:16,channelCount:2,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1}});case 3:t.localStream=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.openNotification("Error","Permission denied. Refresh to try again.","danger");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},createOffer:function(t,e,a){var n=this;return Object(B["a"])(regeneratorRuntime.mark((function s(){var i,o,r,c,l,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=b["roomsCollection"].doc(n.roomId).collection("connections"),o=i.doc("user".concat(e,"user").concat(a)),r=!1,n.registerPeerConnectionListeners(t.pc,a),n.localStream.getTracks().forEach((function(e){t.pc.addTrack(e,n.localStream)})),c=o.collection("callerCandidates"),t.pc.addEventListener("icecandidate",(function(t){if(t.candidate){var e=t.candidate.toJSON();c.doc("candidate").set(e)}})),s.next=9,t.pc.createOffer();case 9:return l=s.sent,s.next=12,t.pc.setLocalDescription(l);case 12:return u={offer:{type:l.type,sdp:l.sdp},from:e,to:a},s.next=15,o.set(u);case 15:t.pc.addEventListener("track",(function(e){console.log("Got remote track:",e.streams[0]),e.streams[0].getTracks().forEach((function(e){console.log("Add a track to the remoteStream:",e),t.peerStream.addTrack(e)}))})),o.onSnapshot(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.data(),t.pc.currentRemoteDescription||!n.answer){e.next=7;break}return console.log("Set remote description: ",n.answer),s=new RTCSessionDescription(n.answer),e.next=6,t.pc.setRemoteDescription(s);case 6:r=!0;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.collection("calleeCandidates").doc("candidate").onSnapshot((function(e){if(r){var a=new RTCIceCandidate(e.data());e.data()?t.pc.addIceCandidate(a).catch((function(t){console.log("HEEEEE",t)})):t.pc.addIceCandidate({candidate:""}).catch((function(t){console.log("ehhhhhh",t)}))}}));case 18:case"end":return s.stop()}}),s)})))()},listenNewConnections:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.getUser.uid,n=b["roomsCollection"].doc(t.roomId),n.collection("connections").onSnapshot((function(e){e.docChanges().forEach(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(s){var i,o,r,c,l,u,d,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("added"!==s.type){e.next=30;break}if(i=s.doc.data(),i.to!==a){e.next=30;break}return t.initWebRTC(i.from),t.peers[i.from].peerStream=new MediaStream,console.log("Create PeerConnection with configuration: ",tt),o=n.collection("connections"),r=o.doc("user".concat(i.from,"user").concat(a)),t.registerPeerConnectionListeners(t.peers[i.from].pc,i.from),t.localStream.getTracks().forEach((function(e){t.peers[i.from].pc.addTrack(e,t.localStream)})),t.peers[i.from].pc.addEventListener("track",(function(e){console.log("Got remote track:",e.streams[0]),e.streams[0].getTracks().forEach((function(e){console.log("Add a track to the remoteStream:",e),t.peers[i.from].peerStream.addTrack(e)}))})),c=r.collection("calleeCandidates"),t.peers[i.from].pc.addEventListener("icecandidate",(function(t){t.candidate?c.doc("candidate").set(t.candidate.toJSON()):console.log("Got final candidate!")})),e.next=15,r.get();case 15:return l=e.sent,u=l.data(),d=u.offer,console.log("Got offer:",d),e.next=20,t.peers[i.from].pc.setRemoteDescription(new RTCSessionDescription(d));case 20:return e.next=22,t.peers[i.from].pc.createAnswer();case 22:return m=e.sent,console.log("Created answer:",m),e.next=26,t.peers[i.from].pc.setLocalDescription(m);case 26:return f={answer:{type:m.type,sdp:m.sdp}},e.next=29,r.update(f);case 29:r.collection("callerCandidates").doc("candidate").onSnapshot((function(e){var a=e.data();t.peers[i.from].pc.localDescription&&t.peers[i.from].pc.addIceCandidate(new RTCIceCandidate(a))}));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 3:case"end":return e.stop()}}),e)})))()},initWebRTC:function(t){var e=this.getRoomUsers.find((function(e){return e.userId===t}));this.$set(this.peers,t,{userId:t,pc:new RTCPeerConnection(tt),peerStream:void 0,peerVideo:void 0,user:e})},registerPeerConnectionListeners:function(t,e){t.addEventListener("iceconnectionstatechange ",(function(){switch(t.iceConnectionState){case"closed":break;case"failed":t.restartIce();break;case"disconnected":console.log("DISCONNECTED USER:",e);break;default:}}))},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},hangUp:function(){var t=this,e=this.localStream.getTracks();e.forEach((function(t){t.stop()})),Object.keys(this.peers).forEach((function(e){t.peers[e].peerStream&&t.peers[e].peerStream.getTracks().forEach((function(t){return t.stop()})),t.peers[e].pc&&t.peers[e].pc.close()})),this.peers={},this.userLeft(),"/crew/@me"!==this.$route.path&&this.$router.push("/crew/@me")},userJoined:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=v["a"].firestore.Timestamp.fromDate(new Date),n=b["roomsCollection"].doc(t.roomId),e.abrupt("return",n.collection("activeUsers").doc(t.getUser.uid).set({userId:t.getUser.uid,createdAt:a}));case 3:case"end":return e.stop()}}),e)})))()},userLeft:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=b["roomsCollection"].doc(t.roomId),a.collection("activeUsers").doc(t.getUser.uid).delete();case 2:case"end":return e.stop()}}),e)})))()},listenNewUsers:function(){var t=this,e=this.getUser.uid,a=b["roomsCollection"].doc(this.roomId);a.collection("activeUsers").onSnapshot((function(a){a.docChanges().forEach((function(a){if("added"===a.type){var n=a.doc.id;n!==e&&(t.initWebRTC(n),t.peers[n].peerStream=new MediaStream,t.createOffer(t.peers[n],e,n))}if("removed"===a.type){var s=a.doc.id;s!==e&&(t.peers[s].pc.close(),t.$delete(t.peers,s))}}))}))},mute:function(){this.muted=!this.muted,this.localStream.getAudioTracks()[0].enabled=this.muted}}),computed:Object(g["a"])({},Object(h["c"])(["getUser","getRoomUsers","getProfile"])),mounted:function(){},beforeDestroy:function(){this.hangUp()},created:function(){this.init()}},at=et,nt=(a("0d77"),Object(w["a"])(at,T,V,!1,null,"28a04d58",null)),st=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"section-nav"},[a("div",{staticClass:"container-nav"},[t._m(0),a("nav",{staticClass:"nav-right"},[a("div",{staticClass:"roboto-medium signin-btn clickable",on:{click:t.openSignin}},[t._v(" Sign in ")]),a("button",{staticClass:"request-btn roboto-medium nav-request-btn",on:{click:t.focusRequest}},[t._v(" Request access ")])])])]),a("div",{staticClass:"section-top"},[a("div",{staticClass:"container-top"},[a("h1",{staticClass:"title-index roboto-medium"},[t._v("Party-App with us.")]),a("h2",{staticClass:"subtitle-index roboto-medium"},[t._v(" every match should have voice comms. ")]),a("div",{staticClass:"request-container"},[a("div",{staticClass:"request-input-container",attrs:{id:"emailContainer"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",staticClass:"request-input roboto-regular",attrs:{type:"text",placeholder:"Enter your email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("button",{staticClass:"request-btn roboto-medium request-btn-desktop",on:{click:t.openSignup}},[t._v(" Request access ")])])]),a("div",{staticClass:"request-btn-container"},[a("button",{staticClass:"request-btn-mobile roboto-medium",on:{click:t.openSignup}},[t._v(" Request access ")])])])]),t._m(1),t._m(2)])},ot=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"nav-left"},[n("a",[n("img",{staticClass:"logo-attio",attrs:{src:a("5244"),alt:"partyapp logo",draggable:"false"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-mid"},[n("div",{staticClass:"container-mid roboto-regular"},[n("div",{staticClass:"title-mid-container"},[n("div",{staticClass:"title-mid"},[t._v("Easy as 1-2-3🎵")])]),n("div",{staticClass:"card-container"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-top"},[n("h1",{staticClass:"card-top-title"},[t._v("01")])]),n("div",{staticClass:"card-mid"},[n("h2",{staticClass:"card-mid-title"},[t._v("Choose your game.")])]),n("div",{staticClass:"card-bot"},[n("img",{staticClass:"card-bot-img",attrs:{src:a("ab4b")}})])]),n("div",{staticClass:"card"},[n("div",{staticClass:"card-top"},[n("h1",{staticClass:"card-top-title"},[t._v("02")])]),n("div",{staticClass:"card-mid"},[n("h2",{staticClass:"card-mid-title"},[t._v("Say hi.")])]),n("div",{staticClass:"card-bot"},[n("img",{staticClass:"card-bot-img",attrs:{src:a("62ca")}})])]),n("div",{staticClass:"card"},[n("div",{staticClass:"card-top"},[n("h1",{staticClass:"card-top-title"},[t._v("03")])]),n("div",{staticClass:"card-mid"},[n("h2",{staticClass:"card-mid-title"},[t._v("Add some body.")])]),n("div",{staticClass:"card-bot"},[n("img",{staticClass:"card-bot-img",attrs:{src:a("3ffe")}})])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-footer"},[a("div",{staticClass:"container-footer"},[a("div",{staticClass:"footer-legal"},[a("p",[t._v("© 2021 PartyApp.")])])])])}],rt={data:function(){return{email:"",inputConChanged:!0}},methods:{openSignup:function(){var t=/^[\-0-9a-zA-Z\.\+_]+@[\-0-9a-zA-Z\.\+_]+\.[a-zA-Z]{2,}$/;this.email.length>0&&t.test(this.email)?(this.$store.commit("setEmail",this.email),this.$router.push("/signup")):this.openNotification("Error","Hey, is that a email?","danger")},openSignin:function(){this.$router.push("/signin")},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},focusRequest:function(){var t=/^[\-0-9a-zA-Z\.\+_]+@[\-0-9a-zA-Z\.\+_]+\.[a-zA-Z]{2,}$/;if(this.email.length>0&&t.test(this.email))this.$store.commit("setEmail",this.email),this.$router.push("/signup");else{this.$refs.email.focus();var e=document.getElementById("emailContainer");e.classList.add("border-Anime"),setTimeout((function(){e.classList.remove("border-Anime")}),2e3)}}}},ct=rt,lt=(a("1ed9"),Object(w["a"])(ct,it,ot,!1,null,"6383b016",null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"main-content"},[n("div",{staticClass:"alpha-container"},[n("div",{staticClass:"container has-text-centered"},[n("img",{attrs:{src:a("1826"),alt:"",draggable:"false"}}),n("h1",{staticClass:"title roboto-black partyapp-title",staticStyle:{color:"black"}},[t._v(" On the wait list ")]),n("h2",{staticClass:"partyapp-subtitle subtitle roboto-regular"},[t._v(" Your on the wait list, you will be emailed when the alpha period begins. ")]),n("div",{staticClass:"has-text-centered button-container"},[n("vs-button",{attrs:{border:"",size:"large"},on:{click:t.signOut}},[t._v(" Logout ")])],1)])])])])},mt=[],ft={data:function(){return{flag:0}},methods:{signOut:function(){var t=this;v["a"].auth().signOut().then((function(){t.$router.push({name:"Signin"})}))}}},pt=ft,gt=(a("73db"),Object(w["a"])(pt,dt,mt,!1,null,"35440d76",null)),vt=gt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",on:{contextmenu:function(t){t.preventDefault()}}},[a("topNav"),a("div",{staticClass:"main-container"},[a("router-view")],1)],1)},bt=[],Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-nav"},[n("div",{staticClass:"container-nav"},[n("nav",{staticClass:"nav-left"},[n("img",{staticClass:"logo-attio clickable",attrs:{src:a("5244"),alt:"partyapp logo",draggable:"false"},on:{click:t.goHome}})]),n("nav",{staticClass:"nav-right"},[n("user-tab")],1)])])},_t=[],wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"user-avatar"},[a("vs-tooltip",{staticClass:"username-text",attrs:{bottom:"",shadow:"",interactivit:"","not-hover":""},scopedSlots:t._u([{key:"tooltip",fn:function(){return[a("div",{staticClass:"content-tooltip"},[a("div",{staticClass:"prof-top"},[a("div",{staticClass:"prof-tob-content"},[a("div",{staticClass:"avatar-container"},[a("vs-avatar",{attrs:{size:"60",color:"#2B2E43",circle:""},scopedSlots:t._u([!t.getProfile.avatar&&t.getProfile.username?{key:"text",fn:function(){return[t._v(" "+t._s(t.getProfile.username.charAt(0))+" ")]},proxy:!0}:null],null,!0)},[t.getProfile.avatar?a("img",{attrs:{src:""+t.getProfile.avatar,alt:"profile image",draggable:"false"}}):t._e()])],1),a("h5",{staticClass:"username-text"},[t._v(" "+t._s(t.getProfile.username+"#"+t.getProfile.tag)+" ")]),a("vs-button",{attrs:{main:"",flat:""},on:{click:t.openSettings}},[t._v(" Manage your account ")])],1)]),a("div",{staticClass:"prof-mid"}),a("div",{staticClass:"prof-bot"}),a("footer",{staticClass:"clickable",staticStyle:{color:"#626891"}},[a("p",[t._v("Privacy policy | v-0.6.2.1")])])])]},proxy:!0}]),model:{value:t.activeProfile,callback:function(e){t.activeProfile=e},expression:"activeProfile"}},[a("vs-avatar",{staticClass:"clickable",attrs:{size:"38",color:"#2B2E43",circle:"","badge-color":"success","badge-position":"bottom-left"},on:{click:function(e){t.activeProfile=!t.activeProfile}},scopedSlots:t._u([!t.getProfile.avatar&&t.getProfile.username?{key:"text",fn:function(){return[t._v(" "+t._s(t.getProfile.username.charAt(0))+" ")]},proxy:!0}:null],null,!0)},[t.getProfile.avatar?a("img",{attrs:{src:""+t.getProfile.avatar,alt:"profile image",draggable:"false"}}):t._e()])],1)],1),a("vs-dialog",{staticClass:"full-screen-dialog",attrs:{square:"","full-screen":"","not-close":""},model:{value:t.settingScreen,callback:function(e){t.settingScreen=e},expression:"settingScreen"}},[a("div",{staticClass:"settings-view"},[a("div",{staticClass:"setting-close"},[a("div",{staticClass:"setting-close-button"},[a("vs-avatar",{attrs:{circle:"",color:"#2B2E43"},on:{click:function(e){t.settingScreen=!t.settingScreen}}},[a("i",{staticClass:"bx bx-x",staticStyle:{color:"#ffffff"}})])],1)]),a("settings")],1)])],1)},yt=[],At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"setting-left"},[a("div",{staticClass:"setting-menu"},[a("button",{staticClass:"setting-menu-item roboto-medium clickable",class:t.classObject(0),on:{click:function(e){t.settingPosition=0}}},[t._v(" Username & Avatar ")]),a("button",{staticClass:"setting-menu-item roboto-medium clickable",class:t.classObject(1),on:{click:function(e){t.settingPosition=1}}},[t._v(" Account Information ")]),a("button",{staticClass:"setting-menu-item roboto-medium clickable",class:t.classObject(2),on:{click:function(e){t.settingPosition=2}}},[t._v(" Password ")]),a("button",{staticClass:"setting-menu-item roboto-medium clickable"},[t._v("Help")]),a("button",{staticClass:"setting-menu-item-logout roboto-medium clickable",on:{click:t.signOut}},[t._v(" Log Out ")])])]),a("div",{staticClass:"setting-right"},[a("div",{staticClass:"left-content"},[0===t.settingPosition?a("settingsName"):t._e(),1===t.settingPosition?a("settingsAccount"):t._e(),2===t.settingPosition?a("settingsPassword"):t._e()],1)])])},xt=[],Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-name-main"},[a("div",{staticClass:"content-main"},[a("div",{staticClass:"content-container"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.uname,expression:"uname"}],staticClass:"content-input",attrs:{type:"text",placeholder:t.getProfile.username},domProps:{value:t.uname},on:{input:[function(e){e.target.composing||(t.uname=e.target.value)},t.isChanged]}})]),a("div",{staticClass:"content-container"},[t._m(1),a("div",{staticClass:"content-avatar-bg"},[a("vs-avatar",{attrs:{for:"upload",size:"132",circle:"",color:"#224168"}},[t.getProfile.avatar?t._e():a("i",{staticClass:"bx bx-plus",staticStyle:{color:"#0291f4"}}),t.getProfile.avatar?a("img",{attrs:{src:""+t.getProfile.avatar,alt:"profile image",draggable:"false"}}):t._e(),a("input",{ref:"FileInput",staticClass:"upload-input clickable",attrs:{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:t.setImage}})])],1)]),t.isActive?a("div",{staticClass:"content-container"},[a("button",{staticClass:"content-save roboto-medium",on:{click:t.updateInfo}},[t._v(" save ")])]):t._e()]),a("vs-dialog",{ref:"editImage",attrs:{"not-close":""},model:{value:t.isEdit,callback:function(e){t.isEdit=e},expression:"isEdit"}},[a("div",{staticClass:"editImage-main"},[a("div",{staticClass:"editImage-top"},[a("div",{staticClass:"addFriend-top-button"},[a("vs-avatar",{attrs:{circle:"",color:"#2B2E43"},on:{click:function(e){t.isEdit=!t.isEdit}}},[a("i",{staticClass:"bx bx-x",staticStyle:{color:"#ffffff"}})])],1)]),a("div",{staticClass:"editImage-content"},[a("div",[a("div",{staticClass:"editImage-cropper"},[a("vue-cropper",{ref:"cropper",attrs:{fixedNumber:t.option.fixedNumber,img:t.imgSrc,info:t.option.info,autoCrop:t.option.autoCrop,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixedBox:t.option.fixedBox,fixed:t.option.fixed}})],1),a("button",{ref:"button",staticClass:"editImage-upload roboto-medium",on:{click:t.uploadImage}},[t._v(" upload ")])])])])])],1)},Pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-medium"},[t._v("Username")]),a("h3",{staticClass:"content-subtitle roboto-medium"},[t._v(" Your username is always public ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-medium"},[t._v("Avatar")]),a("h3",{staticClass:"content-subtitle roboto-medium"},[t._v(" Try to be appropriate🤘 ")])])}],St={name:"settings-name-page",components:{VueCropper:d["VueCropper"]},data:function(){return{uname:"",isActive:!1,isEdit:!1,imgSrc:"",option:{autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedNumber:[1,1],fixed:!0,info:!1}}},methods:{savesettings:function(){},isChanged:function(){this.uname.length>1?this.isActive=!0:this.isActive=!1},setImage:function(t){var e=this;this.isEdit=!0;var a=t.target.files[0];if(!/\.(jpg|jpeg|png|bmp|JPG|PNG)$/.test(t.target.value))return this.openNotification("failed","jpeg,jpg,png,bmp","danger"),this.isEdit=!this.isEdit,!1;if("function"===typeof FileReader){var n=new FileReader;n.onload=function(t){e.imgSrc=t.target.result,e.$refs.cropper.refresh()},n.readAsDataURL(a)}else this.openNotification("failed","Sorry, FileReader API not supported","danger");t.target.value=""},uploadImage:function(){var t=this;this.$refs.cropper.getCropBlob((function(e){var a=b["storage"].ref(),n="users/avatars/".concat(t.getUser.uid),s={contentType:e.type};t.openLoadingCropper();var i=a.child(n).put(e,s);i.then((function(t){return t.ref.getDownloadURL()})).then((function(e){b["usersCollection"].doc(t.getUser.uid).update({avatar:e}).then({}),t.openNotification("Success","Avater was uploaded","success"),t.isEdit=!t.isEdit})).catch(console.error)}))},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},updateInfo:function(){var t=this;b["usersCollection"].doc(this.getUser.uid).update({username:this.uname}).then((function(){t.openNotification("Success","username was updated","success"),t.uname="",t.isActive=!1}))},openLoadingCropper:function(){var t=this.$vs.loading({target:this.$refs.editImage,scale:"0.6",background:"primary",opacity:1,color:"#fff"});setTimeout((function(){t.close()}),3e3)}},computed:Object(g["a"])({},Object(h["c"])(["getProfile","getUser"])),mounted:function(){}},kt=St,Ot=(a("579a"),Object(w["a"])(kt,Et,Pt,!1,null,"74319703",null)),jt=Ot.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-account-main"},[a("div",{staticClass:"content-main"},[a("div",{staticClass:"content-container"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"content-input",attrs:{placeholder:"Private",type:"text",onfocus:"(this.type='date')",id:"date",min:t.minDate,max:t.maxDate},domProps:{value:t.date},on:{input:[function(e){e.target.composing||(t.date=e.target.value)},function(e){return t.isChanged("date")}]}})]),t.isGoogle?a("div",{staticClass:"content-google"},[t._m(2)]):a("div",{staticClass:"content-container"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"content-input",attrs:{type:"email",placeholder:"private"},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value)},function(e){return t.isChanged("email")}]}})]),t.isActive?a("div",{staticClass:"content-container"},[a("button",{staticClass:"content-save roboto-medium",on:{click:t.updateInfo}},[t._v("save")])]):t._e()])])},Ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-medium"},[t._v("Birth Date")]),a("h3",{staticClass:"content-subtitle roboto-medium"},[t._v(" Your birthdate is always private ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-medium"},[t._v("Email")]),a("h3",{staticClass:"content-subtitle roboto-medium"},[t._v(" Don't worry we won't go crazy ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con-google-main"},[a("div",[t._v(" 🔒 email locked, signed in with google, account provider linking coming soon... ")])])}],Rt=(a("a15b"),{name:"settings-account-page",data:function(){return{email:"",sex:"",date:"",minDate:"",maxDate:"",isActive:!1,isGoogle:"google.com"===b["auth"].currentUser.providerData[0].providerId}},methods:{savesettings:function(){},init:function(){},isChanged:function(t){if("email"===t){var e=/^[\-0-9a-zA-Z\.\+_]+@[\-0-9a-zA-Z\.\+_]+\.[a-zA-Z]{2,}$/;this.email.length>0&&e.test(this.email)?this.isActive=!0:this.isActive=!1}else this.date?this.isActive=!0:this.isActive=!1},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},updateInfo:function(){var t=this;if(this.date){var e=v["a"].firestore.Timestamp.fromDate(new Date(this.date));b["userDataCollection"].doc(this.getUser.uid).update({dob:e}).then((function(){t.openNotification("Success","Date of birth was updated","success")})).catch((function(t){console.log(t)}))}else b["auth"].currentUser.updateEmail(this.email).then((function(){b["userDataCollection"].doc(t.getUser.uid).update({email:t.email}).then((function(){t.openNotification("Success","email was updated","success"),t.email=""}))})).catch((function(e){t.openNotification("failed",e,"danger")}))},formatDate:function(t){var e=new Date(t),a="".concat(e.getMonth()+1),n="".concat(e.getDate()),s=e.getFullYear();return a.length<2&&(a="0".concat(a)),n.length<2&&(n="0".concat(n)),[s,a,n].join("-")}},mounted:function(){this.init();var t=new Date;this.minDate=this.formatDate(new Date(t.getFullYear()-80,t.getMonth(),t.getDate())),this.maxDate=this.formatDate(new Date(t.getFullYear()-13,t.getMonth(),t.getDate()))},computed:Object(g["a"])({},Object(h["c"])(["getUser"]))}),Dt=Rt,Nt=(a("07e0"),Object(w["a"])(Dt,It,Ut,!1,null,"c36252ea",null)),Gt=Nt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-password-main"},[t.isGoogle?a("div",{staticClass:"content-main"},[t._m(3)]):a("div",{staticClass:"content-main"},[a("div",{staticClass:"content-container"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],staticClass:"content-input",attrs:{type:"password",placeholder:"*******************"},domProps:{value:t.password1},on:{input:[function(e){e.target.composing||(t.password1=e.target.value)},t.isChanged]}})]),a("div",{staticClass:"content-container"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"content-input",attrs:{type:"password",placeholder:"*******************"},domProps:{value:t.password2},on:{input:[function(e){e.target.composing||(t.password2=e.target.value)},t.isChanged]}})]),a("div",{staticClass:"content-container"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password3,expression:"password3"}],staticClass:"content-input",attrs:{type:"password",placeholder:"*******************"},domProps:{value:t.password3},on:{input:[function(e){e.target.composing||(t.password3=e.target.value)},t.isChanged]}})]),t.isActive?a("div",{staticClass:"content-container"},[a("button",{staticClass:"content-save roboto-medium",on:{click:t.updateInfo}},[t._v(" save ")])]):t._e()])])},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-medium"},[t._v("Current Password")]),a("h3",{staticClass:"content-subtitle roboto-medium"},[t._v(" Please type your current password ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-medium"},[t._v("New Password")]),a("h3",{staticClass:"content-subtitle roboto-medium"},[t._v(" Please type your new password ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-text"},[a("h1",{staticClass:"content-title roboto-medium"},[t._v("Confirm New Password")]),a("h3",{staticClass:"content-subtitle roboto-medium"},[t._v(" Please re-type your new password ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-google"},[a("div",{staticClass:"con-google-main"},[a("div",[t._v(" 🔒 password locked, signed in with google, account provider linking coming soon... ")])])])}],Tt={name:"settings-password-page",data:function(){return{password1:"",password2:"",password3:"",isActive:!1,isGoogle:"google.com"===b["auth"].currentUser.providerData[0].providerId}},methods:{savesettings:function(){},isChanged:function(){this.password1.length>7&&this.password2.length>7&&this.password3.length>7&&this.password2===this.password3?this.isActive=!0:this.isActive=!1},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},updateInfo:function(){var t=this,e=b["auth"].EmailAuthProvider.credential(b["auth"].currentUser.email,this.password1);b["auth"].currentUser.reauthenticateWithCredential(e).then((function(){t.openNotification("success","Password updated","success")})).catch((function(e){t.openNotification("failed",e,"danger")}))}}},Vt=Tt,Bt=(a("78cd"),Object(w["a"])(Vt,$t,Lt,!1,null,"78a1e50a",null)),qt=Bt.exports,zt={components:{settingsName:jt,settingsAccount:Gt,settingsPassword:qt},data:function(){return{settingPosition:0,isLogout:!1,isHelp:!1}},methods:Object(g["a"])({signOut:function(){var t=this;this.$store.dispatch("signOutAction"),this.signOutAction().then((function(){t.$router.push("/signin")})),localStorage.removeItem("gameList")},classObject:function(t){return{selected:this.settingPosition===t,selectedBackground:this.settingPosition===t}}},Object(h["b"])(["signOutAction"]))},Mt=zt,Ft=(a("738c"),Object(w["a"])(Mt,At,xt,!1,null,"c254d7c0",null)),Ht=Ft.exports,Wt={name:"user_tab",data:function(){return{activeProfile:!1,settingScreen:!1,usernameChar:""}},computed:Object(g["a"])({},Object(h["c"])(["getProfile"])),components:{settings:Ht},methods:{openSettings:function(){this.settingScreen=!this.settingScreen,this.activeProfile=!this.activeProfile}}},Yt=Wt,Jt=(a("f0f2"),Object(w["a"])(Yt,wt,yt,!1,null,null,null)),Qt=Jt.exports,Zt={name:"top_nav",data:function(){return{curGame:{},activeProfile:!1,settingScreen:!1}},methods:{openLogin:function(){this.$router.push("/signin")},logout:function(){this.signOutAction()},goHome:function(){var t="/crew/@me";this.$route.path!==t&&this.$router.push(t)}},components:{userTab:Qt},computed:Object(g["a"])({},Object(h["c"])(["isUserAuth","getGames"]))},Kt=Zt,Xt=(a("9a2b"),Object(w["a"])(Kt,Ct,_t,!1,null,"78d6d25e",null)),te=Xt.exports,ee={components:{topNav:te}},ae=ee,ne=(a("040e"),Object(w["a"])(ae,ht,bt,!1,null,"6425f724",null)),se=ne.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-main"},[a("div",{staticClass:"home-container"},[t.curGame?a("div",{ref:"target",staticClass:"join-game-container game-container"},[a("div",{staticClass:"join-game-close"},[a("vs-avatar",{attrs:{circle:"",color:"#161823"},on:{click:function(e){t.curGame=null}}},[a("i",{staticClass:"bx bx-x",staticStyle:{color:"#ffffff"}})])],1),a("div",{staticClass:"join-game-content"},[a("b-image",{staticClass:"join-game-img",attrs:{src:t.curGame.url,placeholder:t.curGame.url_tiny,alt:t.curGame.gameName,ratio:"446by565"}}),a("button",{staticClass:"join-game-btn roboto-black",on:{click:t.join}},[t._v("Join")])],1)]):a("div",{staticClass:"select-game-container game-container"},[a("div",{staticClass:"select-game-content"},t._l(t.getGames,(function(e){return a("div",{key:e.gameId,staticClass:"select-game-card clickable",attrs:{value:e},on:{click:function(a){return t.setGame(e)}}},[a("img",{attrs:{src:e.url,placeholder:e.url_tiny,alt:e.gameName,draggable:"false"}})])})),0)])])])},oe=[],re={components:{},data:function(){return{curGame:null}},methods:Object(g["a"])(Object(g["a"])({},Object(h["b"])(["hostGameAction"])),{},{setGame:function(t){this.$store.commit("setGame",t),this.curGame=this.getGame},join:function(){var t=this,e=this.$vs.loading({target:this.$refs.target,type:"corners",background:"#195bff",color:"#fff",opacity:"1",text:"looking for humans, just a moment"}),a=v["a"].firestore.Timestamp.fromDate(new Date),n=b["playersCollection"].doc(),s=n.id;b["playersCollection"].doc(s).set({userId:this.getUser.uid,game:this.getGame.gameId,createdAt:a,size:this.getGame.maxPlayers}).then((function(){b["playersCollection"].doc(s).onSnapshot((function(a){var n=a.data(),s=n.roomId;""!==s&&b["roomsCollection"].doc(s).onSnapshot((function(a){var n=a.data(),i=n.full;i&&(t.$store.commit("setRoom",{roomId:s}),t.$route.path!=="/crew/".concat(s)&&(t.$router.push("/crew/".concat(s)),e.close(),t.setRoom(s)))}))}))})).catch((function(a){t.openNotification("failed",a,"danger"),e.close()}))},openNotification:function(t,e,a){this.$vs.notification({title:t,text:e,position:"bottom-center",color:a})},init:function(){},setRoom:function(t){var e=b["db"].doc("/status/".concat(this.getUser.uid));e.set({roomId:t},{merge:!0})}}),computed:Object(g["a"])({},Object(h["c"])(["getUser","getGame","getRoom","getProfile","getGames"])),mounted:function(){this.init()}},ce=re,le=(a("e133"),Object(w["a"])(ce,ie,oe,!1,null,"0b0fa24a",null)),ue=le.exports;s["default"].use(E["a"]);var de=[{path:"/",name:"index",component:ut},{path:"/crew",name:"main",meta:{requiresAuth:!0},component:se,children:[{path:"@me",name:"me",component:ue},{path:"/crew/:roomId",name:"party",component:st}]},{path:"/signin",name:"Signin",component:U},{path:"/signup",name:"Signup",component:L},{path:"/alpha",name:"alpha",component:vt,meta:{requiresAuth:!0}}],me=new E["a"]({mode:"history",base:"/",routes:de});me.beforeEach((function(t,e,a){var n=t.matched.some((function(t){return t.meta.requiresAuth})),s=v["a"].auth().currentUser;n&&!s?a("/signin"):a()}));var fe=me,pe=a("3317"),ge=Object(g["a"])({setUser:function(t,e){t.user=e},setError:function(t,e){t.error=e},setGame:function(t,e){t.currentGame=e},setGames:function(t,e){t.gamesList=e},setRoom:function(t,e){t.room=e},setEmail:function(t,e){t.email=e},setRoomUsers:function(t,e){t.roomUsers=e}},pe["b"]),ve=ge,he=(a("d3b7"),a("4de4"),new v["a"].auth.GoogleAuthProvider),be={signUpAction:function(t,e){var a=t.commit;return new Promise((function(t,n){v["a"].auth().createUserWithEmailAndPassword(e.email,e.password).then((function(s){a("setUser",s.user),b["usersCollection"].doc(s.user.uid).set({username:e.username,tag:Math.floor(1e3+9e3*Math.random()),avatar:"",mfa_enabled:!1,premiumType:"",flags:0,userId:s.user.uid}).then((function(){b["userDataCollection"].doc(s.user.uid).set({email:e.email,dob:v["a"].firestore.FieldValue.serverTimestamp(),sex:""}).then((function(){t()})).catch((function(t){n(t)})),t()}))})).catch((function(t){a("setError",t.message),n(t)}))}))},signInAction:function(t,e){var a=t.commit;return new Promise((function(t,n){v["a"].auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){a("setUser",e.user),t()})).catch((function(t){a("setError",t.message),n(t)}))}))},signOutAction:function(t){var e=t.commit;return new Promise((function(t,a){v["a"].auth().signOut().then((function(){e("setUser",null),t()})).catch((function(t){e("setError",t.message),a(t)}))}))},googleAuthAction:function(t){var e=t.commit;return new Promise((function(t,a){v["a"].auth().signInWithPopup(he).then((function(n){var s=n.user,i=b["usersCollection"].doc(n.user.uid);i.get().then((function(o){o.exists?(e("setUser",n.user),t()):i.set({username:s.displayName,tag:Math.floor(1e3+9e3*Math.random()),avatar:s.photoURL,mfa_enabled:!1,premiumType:"",flags:0,userId:s.uid}).then((function(){e("setUser",n.user),b["userDataCollection"].doc(n.user.uid).set({email:s.email,dob:v["a"].firestore.FieldValue.serverTimestamp(),sex:""}).then((function(){t()})).catch((function(t){a(t)})),t()}))}))})).catch((function(t){e("setError",t.message),a(t)}))}))},bindUserProfileRef:Object(pe["a"])((function(t){var e=t.state,a=t.bindFirestoreRef;return a("userProfile",b["usersCollection"].doc(e.user.uid))})),bindGameRef:Object(pe["a"])((function(t){var e=t.bindFirestoreRef;return e("gamesList",b["gamesCollection"])})),getRoomUsersAction:function(t,e){var a=t.commit;return new Promise((function(t,n){b["roomsCollection"].doc(e.roomId).get().then((function(s){var i=s.data(),o=i.players.filter((function(t){return t!==e.userId}));b["usersCollection"].where("userId","in",o).get().then((function(e){var n=[];e.forEach((function(t){var e=t.data();n.push({avatar:e.avatar,username:e.username,userId:e.userId})})),a("setRoomUsers",n),t()})).catch((function(t){a("setError",t.message),n()}))}))}))},hostGameAction:function(t,e){var a=t.commit,n=v["a"].firestore.Timestamp.fromDate(new Date);return new Promise((function(t,s){b["roomsCollection"].add({createdAt:n,game:e.game,players:e.players,size:e.size,full:!1}).then((function(e){a("setRoom",e.id),t()})).catch((function(t){s(t)}))}))}},Ce=be,_e={getUser:function(t){return t.user},isUserAuth:function(t){return!!t.user},getError:function(t){return t.error},getProfile:function(t){return t.userProfile},getGames:function(t){return t.gamesList},getGame:function(t){return t.currentGame},getRoom:function(t){return t.room},getEmail:function(t){return t.email},getRoomUsers:function(t){return t.roomUsers}},we=_e;s["default"].use(h["a"]);var ye,Ae=new h["a"].Store({state:{user:null,error:null,userProfile:{},gamesList:[],currentGame:{},room:"",email:"",roomUsers:[]},mutations:ve,actions:Ce,getters:we,modules:{}}),xe=a("1543");s["default"].config.productionTip=!1,s["default"].component("ValidationProvider",n["b"]),s["default"].component("ValidationObserver",n["a"]),s["default"].use(m.a),s["default"].use(o.a),s["default"].use(r["a"]),s["default"].use(c["a"]),s["default"].use(l["a"]),s["default"].use(u["a"]),xe.auth.onAuthStateChanged((function(){ye||(ye=new s["default"]({router:fe,store:Ae,render:function(t){return t(A)}}).$mount("#app"))}))},"579a":function(t,e,a){"use strict";a("e70d")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"62ca":function(t,e,a){t.exports=a.p+"img/say_hi.9d7b0d33.png"},"67ce":function(t,e,a){},"6eff":function(t,e,a){},"738c":function(t,e,a){"use strict";a("9c87")},"73db":function(t,e,a){"use strict";a("a13c")},"78cd":function(t,e,a){"use strict";a("1e43")},"7b30":function(t,e,a){},"7cd3":function(t,e,a){"use strict";a("6eff")},"891d":function(t,e,a){},"9a2b":function(t,e,a){"use strict";a("39ef")},"9c0c":function(t,e,a){},"9c87":function(t,e,a){},"9d4a":function(t,e,a){},a13c:function(t,e,a){},a356:function(t,e,a){},ab4b:function(t,e,a){t.exports=a.p+"img/choose_game.7612cc56.png"},c6b2:function(t,e,a){"use strict";a("ce33")},c719:function(t,e,a){},cbc4:function(t,e,a){"use strict";a("c719")},ce33:function(t,e,a){},e133:function(t,e,a){"use strict";a("3c79")},e70d:function(t,e,a){},f039:function(t,e,a){"use strict";a("7b30")},f0f2:function(t,e,a){"use strict";a("09a4")}});
//# sourceMappingURL=app.f59389fa.js.map